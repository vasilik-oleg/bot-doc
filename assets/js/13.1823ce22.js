(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{238:function(t,s,a){t.exports=a.p+"assets/img/settings_black.d5b3bfbb.svg"},316:function(t,s,a){"use strict";a.r(s);var e=a(13),i=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"_8-c",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-c"}},[t._v("#")]),t._v(" 8. C++ "),s("Anchor",{attrs:{ids:["c++"]}})],1),t._v(" "),s("h2",{attrs:{id:"_8-1-редактор-формул",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-1-редактор-формул"}},[t._v("#")]),t._v(" 8.1. Редактор формул "),s("Anchor",{attrs:{ids:["редактор-формул"]}})],1),t._v(" "),s("p",[t._v("Редактировать формулы на C++ вы можете во вкладке "),s("code",[t._v("Formulas")]),t._v(" в окне настроек портфеля, которое открывается при нажатии на иконку "),s("img",{attrs:{src:a(238),width:"16",height:"16"}}),t._v(" :")]),t._v(" "),s("p",[t._v("Написание формул возможно как для всего портфеля, так и для каждого инструмента в отдельности.")]),t._v(" "),s("p",[t._v("В первом случае будут отображены поля "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#p.trade_formula"}},[t._v("Trade formula")]),t._v(", "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#p.ext_field1_"}},[t._v("Extra field#1")]),t._v(" и "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#p.ext_field2_"}},[t._v("Extra field#2")]),t._v(".\nВо втором "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#_5-3-9-count-formula"}},[t._v("Count formula")]),t._v(", "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#_5-3-28-ratio-buy-formula"}},[t._v("Ratio buy formula")]),t._v(", "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#_5-3-29-ratio-sell-formula"}},[t._v("Ratio sell formula")]),t._v(".")],1),t._v(" "),s("p",[t._v("В редакторе формул существует возможность тестового выполнения выбранной формулы (кнопка "),s("code",[t._v("Test")]),t._v(", при этом в строку компиляции добавляется флаг "),s("code",[t._v("-DDEBUG")]),t._v(") и на момент вычисления формулы создаётся временная копия портфеля, НО если вы в формуле изменяете значения полей портфеля, и у вас существует портфель с тем же именем, то изменения применятся к этому портфелю.")]),t._v(" "),s("p",[t._v("Доступно редактирование как включенных,  так и выключенных формул.")]),t._v(" "),s("h2",{attrs:{id:"_8-2-важно",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-2-важно"}},[t._v("#")]),t._v(" 8.2. Важно "),s("Anchor",{attrs:{ids:["важно"]}})],1),t._v(" "),s("p",[t._v("При написании формул на языке программирования C++ на код накладываются некоторые ограничения:")]),t._v(" "),s("ul",[s("li",[t._v("Вы пишете только тело соответствующих функций, все функции должны возвращать значение типа "),s("code",[t._v("double")]),t._v(";")]),t._v(" "),s("li",[t._v("Запрещено использование некоторых символов и слов: "),s("code",[t._v("\\001")]),t._v(", "),s("code",[t._v("#nl")]),t._v(", "),s("code",[t._v("#tab")]),t._v(";")]),t._v(" "),s("li",[t._v("Вы можете получить доступ к любому портфелю робота, к инструменту портфеля робота, а также к инструменту биржи, который фигурирует хотя бы в одном из ваших порфтелей;")]),t._v(" "),s("li",[t._v('Вы можете изменять значения некоторых полей портфелей и инструментов портфелей. При изменении значений каких-то полей, вы можете "сломать" работу штатного алгоритма робота, имейте это в виду. В связи с этим для экстренного отключения торговли и выключения всех расчётов по формулам в меню действий с портфелями предусмотрен пункт '),s("code",[t._v("Stop formulas")]),t._v(";")]),t._v(" "),s("li",[t._v("Портфель (структура "),s("code",[t._v("portfolio")]),t._v(") содержит метод "),s("code",[t._v("data()")]),t._v(", который позволяет получить доступ к словарю, в который можно сохранять данные между вызовами формул (в API эти данные НЕ доступны, при выключении робота значения НЕ сохраняются);")]),t._v(" "),s("li",[t._v("Портфель (структура "),s("code",[t._v("portfolio")]),t._v(") содержит методы "),s("code",[t._v("uf0(), ..., uf19()")]),t._v(" и "),s("code",[t._v("set_uf0(), ..., set_uf19()")]),t._v(", которые позволяют получить доступ к пользовательским полям, которые НЕ используюстя в штатном алгоритме робота и предназначены для исползования пользователем (значения этих полей доступны в API, это такие же поля портфеля, как и все остальные, но зарезервированные для пользователя).")])]),t._v(" "),s("p",[s("strong",[t._v("Важно:")]),t._v(" если значение поля какой-либо бумаги еще не было получено с биржи или для бумаги с данной биржи нельзя получить значение этого поля, то вы получите 0. Нужно понимать что, например, на пустом стакане вы можете получить 0 в качестве цены бида или оффера, поэтому всегда проверяйте значения на равенство нулю в тех ситуациях, где это критично (например, при делении или при нахождении среднего арифметического бида и оффера).")]),t._v(" "),s("p",[s("strong",[t._v("Важно:")]),t._v(" настоятельно НЕ рекомендуется пользоваться недокументированными особенностями работы робота, т.к. недокументированное поведение робота может быть изменено без предупреждения.")]),t._v(" "),s("p",[s("strong",[t._v("Важно:")]),t._v(' если формулы изменяют значения каких-то параметров портфеля, которые изменяются алгоритмом, то можно легко получить "неожиданное" поведение.')]),t._v(" "),s("p",[s("strong",[t._v("Важно:")]),t._v(' при написании формул вы пишете код на небезопасном языке программитрования C++, своими действиями вы легко можете "положить" робота, только вы несете ответственность за корректность работы вашего кода.')]),t._v(" "),s("p",[s("strong",[t._v("Важно:")]),t._v(" везде в роботе количества в заявках/сделках и в позициях - это целые числа, сделано это для того, чтобы не иметь проблем с операциями над вещественными числами. В С++ API количества и позиции тоже целые числа, по той же причине. Для конвертации количеств и\nпозиций в ту же размерность, в которой они отображаются на сайтах бирж (для тех бирж где возможны дробные значения в данных полях), в тех объектах, которых касается описанная выше проблема, есть поле "),s("code",[t._v("lot_size")]),t._v(". Для перевода из целых в дробные необходимо исходное значение\nумножить на "),s("code",[t._v("lot_size")]),t._v(", а для перевода из дробных в целые необходимо исходное значение разделить на "),s("code",[t._v("lot_size")]),t._v(". Для параметров портфеля и бумаг портфеля, которых касается "),s("code",[t._v("lot_size")]),t._v(", есть соответствующие пометки в описании этих параметров.")]),t._v(" "),s("h2",{attrs:{id:"_8-3-доступ-к-биржевым-данным-по-финансовым-инструментам",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-3-доступ-к-биржевым-данным-по-финансовым-инструментам"}},[t._v("#")]),t._v(" 8.3. Доступ к биржевым данным по финансовым инструментам "),s("Anchor",{attrs:{ids:["Доступ-к-биржевым-данным-по-финансовым-инструментам","доступ-к-биржевым-данным-по-финансовым-инструментам"]}})],1),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Функция")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("struct security get_security(const std::string& s)")]),t._v(" "),s("td",[t._v("получить инструмент по его "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#_5-3-1-seckey"}},[t._v("SecKey")]),t._v(" s")],1)]),t._v(" "),s("tr",[s("td",[t._v("struct security get_security(const char* s)")]),t._v(" "),s("td",[t._v("получить инструмент по его "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#_5-3-1-seckey"}},[t._v("SecKey")]),t._v(" s")],1)]),t._v(" "),s("tr",[s("td",[t._v("struct security get_security()")]),t._v(" "),s("td",[t._v("получить инструмент, соответствующий главной бумаге текущего портфеля")])]),t._v(" "),s("tr",[s("td",[t._v("struct security get_security(const security_fields& sf)")]),t._v(" "),s("td",[t._v("получить инструмент, соответствующий заданной бумаге портфеля")])])])]),t._v(" "),s("p",[t._v("Методы "),s("code",[t._v("security")]),t._v(":")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Метод")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("double theor_price()")]),t._v(" "),s("td",[t._v("расчетная цена, есть только для опционов")])]),t._v(" "),s("tr",[s("td",[t._v("double bid()")]),t._v(" "),s("td",[t._v("лучшая цена на покупку")])]),t._v(" "),s("tr",[s("td",[t._v("double offer()")]),t._v(" "),s("td",[t._v("лучшая цена на продажу")])]),t._v(" "),s("tr",[s("td",[t._v("double mid_price()")]),t._v(" "),s("td",[t._v("среднее арифметическое лучших цена на покупку и продажу, если одной из цен нет, то это вторая цена, если нет обеих цен, то будет выброшено исключение "),s("code",[t._v("std::range_error")])])]),t._v(" "),s("tr",[s("td",[t._v("double exp_date()")]),t._v(" "),s("td",[t._v("дата экспирации, в формате epoch")])]),t._v(" "),s("tr",[s("td",[t._v("double strike()")]),t._v(" "),s("td",[t._v("цена страйк, есть только у опционов")])]),t._v(" "),s("tr",[s("td",[t._v("long long amount_offer()")]),t._v(" "),s("td",[t._v("объем оффера в лотах")])]),t._v(" "),s("tr",[s("td",[t._v("long long amount_bid()")]),t._v(" "),s("td",[t._v("объем бида в лотах")])]),t._v(" "),s("tr",[s("td",[t._v("double limit_up()")]),t._v(" "),s("td",[t._v("разрешенный верхний лимит цены")])]),t._v(" "),s("tr",[s("td",[t._v("double limit_down()")]),t._v(" "),s("td",[t._v("разрешенный нижний лимит цены")])]),t._v(" "),s("tr",[s("td",[t._v("int trading_status()")]),t._v(" "),s("td",[t._v("статус торгуемости бумаги на бирже (битовая маска, возможные взведенные биты "),s("a",{attrs:{href:"#__TRADING_CAN_PLACE__"}},[t._v("TRADING_CAN_PLACE")]),t._v(" и "),s("a",{attrs:{href:"#__TRADING_CAN_CANCEL__"}},[t._v("TRADING_CAN_CANCEL")]),t._v(", "),s("a",{attrs:{href:"#__sec_status_check__"}},[t._v("пример")]),t._v(")")])]),t._v(" "),s("tr",[s("td",[t._v("int conn_online()")]),t._v(" "),s("td",[t._v("стауст активности маркет-дата подключения в роботе (битовая маска, возможные взведенные биты "),s("a",{attrs:{href:"#__MARKET_DATA_BESTS_ONLINE__"}},[t._v("MARKET_DATA_BESTS_ONLINE")]),t._v(" и "),s("a",{attrs:{href:"#__MARKET_DATA_OB_ONLINE__"}},[t._v("MARKET_DATA_OB_ONLINE")]),t._v(", "),s("a",{attrs:{href:"#__sec_status_check__"}},[t._v("пример")]),t._v(")")])]),t._v(" "),s("tr",[s("td",[t._v("double min_step()")]),t._v(" "),s("td",[t._v("минимальный шаг цены")])]),t._v(" "),s("tr",[s("td",[t._v("double lot_round()")]),t._v(" "),s("td",[t._v("количество ценных бумаг в одном стандартном лоте")])]),t._v(" "),s("tr",[s("td",[t._v("double lot_size()")]),t._v(" "),s("td",[t._v("множитель для конвертации дробных объемов в целые")])]),t._v(" "),s("tr",[s("td",[t._v("double funding_rate()")]),t._v(" "),s("td",[t._v("ставка фондирования")])]),t._v(" "),s("tr",[s("td",[t._v("long long funding_time()")]),t._v(" "),s("td",[t._v("время следующего фондирования в формате epoch")])]),t._v(" "),s("tr",[s("td",[t._v("const spb_commons& spb_common()")]),t._v(" "),s("td",[t._v("структура с полями, описанными ниже")])]),t._v(" "),s("tr",[s("td",[t._v("order_book orderbook()")]),t._v(" "),s("td",[t._v("структура с методами, описанными ниже")])])])]),t._v(" "),s("p",[t._v("Поля структуры "),s("code",[t._v("spb_commons")]),t._v(" (значения будут отличны от нуля только для инструментов с "),s("code",[t._v("SPBEX")]),t._v("):")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Название")]),t._v(" "),s("th",[t._v("Тип")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("price_last")]),t._v(" "),s("td",[t._v("double")]),t._v(" "),s("td",[t._v("цена последней сделки")])]),t._v(" "),s("tr",[s("td",[t._v("price_open")]),t._v(" "),s("td",[t._v("double")]),t._v(" "),s("td",[t._v("цена первой сделки за сессию")])]),t._v(" "),s("tr",[s("td",[t._v("price_close")]),t._v(" "),s("td",[t._v("double")]),t._v(" "),s("td",[t._v("официальная цена закрытия")])]),t._v(" "),s("tr",[s("td",[t._v("price_high")]),t._v(" "),s("td",[t._v("double")]),t._v(" "),s("td",[t._v("сделка с максимальной ценой")])]),t._v(" "),s("tr",[s("td",[t._v("price_low")]),t._v(" "),s("td",[t._v("double")]),t._v(" "),s("td",[t._v("сделка с минимальной ценой")])]),t._v(" "),s("tr",[s("td",[t._v("price_auction_close_prev")]),t._v(" "),s("td",[t._v("double")]),t._v(" "),s("td",[t._v("цена аукциона закрытия предыдущего дня")])]),t._v(" "),s("tr",[s("td",[t._v("price_halt")]),t._v(" "),s("td",[t._v("double")]),t._v(" "),s("td",[t._v("цена для определения приостановок")])]),t._v(" "),s("tr",[s("td",[t._v("price_official_min_time")]),t._v(" "),s("td",[t._v("long long")]),t._v(" "),s("td",[t._v("время последнего изменения минимальной текущей цены")])]),t._v(" "),s("tr",[s("td",[t._v("price_indicative")]),t._v(" "),s("td",[t._v("double")]),t._v(" "),s("td",[t._v("текущая цена рынка")])]),t._v(" "),s("tr",[s("td",[t._v("price_close_prev")]),t._v(" "),s("td",[t._v("double")]),t._v(" "),s("td",[t._v("официальная цена закрытия предыдущего дня")])]),t._v(" "),s("tr",[s("td",[t._v("price_official")]),t._v(" "),s("td",[t._v("double")]),t._v(" "),s("td",[t._v("официальная цена онлайн (текущая цена)")])]),t._v(" "),s("tr",[s("td",[t._v("price_vwap_day_prev")]),t._v(" "),s("td",[t._v("double")]),t._v(" "),s("td",[t._v("средневзвешенная цена основной сессии предыдущего дня")])]),t._v(" "),s("tr",[s("td",[t._v("price_vwap_day")]),t._v(" "),s("td",[t._v("double")]),t._v(" "),s("td",[t._v("средневзвешенная цена основной сессии текущего дня")])]),t._v(" "),s("tr",[s("td",[t._v("price_current")]),t._v(" "),s("td",[t._v("double")]),t._v(" "),s("td",[t._v("текущая котировка")])]),t._v(" "),s("tr",[s("td",[t._v("price_average")]),t._v(" "),s("td",[t._v("double")]),t._v(" "),s("td",[t._v("средневзвешенная цена")])]),t._v(" "),s("tr",[s("td",[t._v("time_last")]),t._v(" "),s("td",[t._v("long long")]),t._v(" "),s("td",[t._v("время последней сделки")])]),t._v(" "),s("tr",[s("td",[t._v("price_prev_period_close")]),t._v(" "),s("td",[t._v("double")]),t._v(" "),s("td",[t._v("цена последней сделки предыдущего дня")])])])]),t._v(" "),s("p",[s("a",{attrs:{href:"#__Example1__"}},[s("em",[t._v("Пример:")])]),t._v(" Пример доступа к полям структуры "),s("code",[t._v("spb_commons")]),t._v(".")]),t._v(" "),s("p",[t._v("Методы "),s("code",[t._v("order_book")]),t._v(":")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Метод")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("bool is_available()")]),t._v(" "),s("td",[t._v("доступен ли в данный момент для данной бумаги стакан")])]),t._v(" "),s("tr",[s("td",[t._v("bool has_next_bid()")]),t._v(" "),s("td",[t._v("есть ли еще бид в списке бидов")])]),t._v(" "),s("tr",[s("td",[t._v("bool has_next_offer()")]),t._v(" "),s("td",[t._v("есть ли еще оффер в списке офферов")])]),t._v(" "),s("tr",[s("td",[t._v("std::pair next_bid()")]),t._v(" "),s("td",[t._v("получить текущий бид в формате пара: цена + объем (если его нет, вы получите исключение std::out_of_range) и передвинуть указатель на следующий бид в списке")])]),t._v(" "),s("tr",[s("td",[t._v("std::pair next_offer()")]),t._v(" "),s("td",[t._v("получить текущий оффер в формате пара: цена + объем (если его нет, вы получите исключение std::out_of_range) и передвинуть указатель на следующий оффер в списке")])])])]),t._v(" "),s("p",[t._v("По своей сути "),s("code",[t._v("order_book")]),t._v(" является итератором сразу для двух списков: бидов и офферов, оба списка проходятся в порядке от лучшей цены в сторону худших. Вы можете получить только следующую цену в списке, если нужно вернуться к предыдущей - сохраняйте ее или получите "),s("code",[t._v("order_book")]),t._v(" заново.")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://fkviking.github.io/bot-doc08-c-api.md#_8-8-%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80%D1%8B-%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%B0-%D0%BA-%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D0%B0%D0%BC-%D0%BF%D0%BE%D1%80%D1%82%D1%84%D0%B5%D0%BB%D1%8F-%D0%B8%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0-%D1%81%D0%B4%D0%B5%D0%BB%D0%BA%D0%B8-%D0%BF%D0%BE%D0%B7%D0%B8%D1%86%D0%B8%D0%B8",target:"_blank",rel:"noopener noreferrer"}},[s("em",[t._v("Пример:")]),s("OutboundLink")],1),t._v(" использования методов структуры "),s("code",[t._v("order_book")]),t._v(".")]),t._v(" "),s("h2",{attrs:{id:"_8-4-доступ-и-изменение-полеи-инструмента-портфеля",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-4-доступ-и-изменение-полеи-инструмента-портфеля"}},[t._v("#")]),t._v(" 8.4. Доступ и изменение полей инструмента портфеля "),s("Anchor",{attrs:{ids:["доступ-и-изменение-полей-инструмента-портфеля"]}})],1),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Функция")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("struct security_fields get_security_fields(const std::string& p, const std::string& s)")]),t._v(" "),s("td",[t._v("получить бумагу портфеля с именем p с "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#_5-3-1-seckey"}},[t._v("SecKey")]),t._v(" s")],1)]),t._v(" "),s("tr",[s("td",[t._v("struct security_fields get_security_fields()")]),t._v(" "),s("td",[t._v("получить главную бумагу текущего портфеля")])]),t._v(" "),s("tr",[s("td",[t._v("struct security_fields get_security_fields(const std::string& s)")]),t._v(" "),s("td",[t._v("получить бумагу текущего портфеля с "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#_5-3-1-seckey"}},[t._v("SecKey")]),t._v(" s")],1)])])]),t._v(" "),s("p",[t._v("Методы "),s("code",[t._v("security_fields")]),t._v(":")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Метод")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("order_pool orders()")]),t._v(" "),s("td",[t._v("получить пул заявок")])]),t._v(" "),s("tr",[s("td",[t._v("long long sec_type()")]),t._v(" "),s("td",[t._v('получить "Exchange" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("std::string sec_key()")]),t._v(" "),s("td",[t._v('получить "SecKey" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("int put()")]),t._v(" "),s("td",[t._v('получить "Put" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double lot_size()")]),t._v(" "),s("td",[t._v("получить множитель для конвертации дробных объемов в целые инструмента портфеля")])]),t._v(" "),s("tr",[s("td",[t._v("long long pos()")]),t._v(" "),s("td",[t._v('получить "Curpos" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("long long count()")]),t._v(" "),s("td",[t._v('получить "Count" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("int depth_ob()")]),t._v(" "),s("td",[t._v('получить "Depth OB" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("int ob_c_p_t()")]),t._v(" "),s("td",[t._v('получить "Calc price OB" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("int ob_t_p_t()")]),t._v(" "),s("td",[t._v('получить "Trading price OB" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("int decimals()")]),t._v(" "),s("td",[t._v('получить "Decimals" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double d_pg()")]),t._v(" "),s("td",[t._v('получить "date pagination" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("std::string client_code()")]),t._v(" "),s("td",[t._v('получить "Client code" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("bool is_first()")]),t._v(" "),s("td",[t._v('получить "Is first" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("int on_buy()")]),t._v(" "),s("td",[t._v('получить "On buy" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("int leverage()")]),t._v(" "),s("td",[t._v('получить "Leverage" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("std::string sec_board()")]),t._v(" "),s("td",[t._v('получить "SecBoard" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("std::string sec_code()")]),t._v(" "),s("td",[t._v('получить "SecCode" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("int count_type()")]),t._v(" "),s("td",[t._v('получить "Count type" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double k()")]),t._v(" "),s("td",[t._v('получить "k" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("bool sle()")]),t._v(" "),s("td",[t._v('получить "SLE" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double sl()")]),t._v(" "),s("td",[t._v('получить "SL" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double tp()")]),t._v(" "),s("td",[t._v('получить "TP" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double k_sl()")]),t._v(" "),s("td",[t._v('получить "k_sl" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("bool te()")]),t._v(" "),s("td",[t._v('получить "TE" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("int timer()")]),t._v(" "),s("td",[t._v('получить "Timer" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("int ratio_sign()")]),t._v(" "),s("td",[t._v('получить "Ratio sign" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("int ratio_type()")]),t._v(" "),s("td",[t._v('получить "Ratio type" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double ratio_b()")]),t._v(" "),s("td",[t._v('получить "Ratio" для расчета покупки инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double ratio_s()")]),t._v(" "),s("td",[t._v('получить "Ratio" для расчета продажи инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double percent_of_quantity()")]),t._v(" "),s("td",[t._v('получить "Percent of quantity" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double fin_res_mult()")]),t._v(" "),s("td",[t._v('получить "Fin res multiplier" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("int comission_sign()")]),t._v(" "),s("td",[t._v('получить "Commission type" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double comission()")]),t._v(" "),s("td",[t._v('получить "Commission" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("bool mm()")]),t._v(" "),s("td",[t._v('получить "MM" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("bool maker()")]),t._v(" "),s("td",[t._v('получить "Only maker" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("bool move_limits()")]),t._v(" "),s("td",[t._v('получить "FUT move limits" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("bool move_limits1()")]),t._v(" "),s("td",[t._v('получить "SPOT move limits" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("int depth_ob()")]),t._v(" "),s("td",[t._v('получить "Depth OB" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("int ob_c_p_t()")]),t._v(" "),s("td",[t._v('получить "Calc price OB" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("int ob_t_p_t()")]),t._v(" "),s("td",[t._v('получить "Trading price OB" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double mc_level_to0()")]),t._v(" "),s("td",[t._v('получить "Level to0" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double mc_level_close()")]),t._v(" "),s("td",[t._v('получить "Level close" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("long long max_trans_musec()")]),t._v(" "),s("td",[t._v('получить "Max trans time" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("long long ban_period()")]),t._v(" "),s("td",[t._v('получить "Ban period" инструмента портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("void set_count(long long v)")]),t._v(" "),s("td",[t._v('изменить "Count" инструмента портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_depth_ob(int v)")]),t._v(" "),s("td",[t._v('изменить "Depth OB" инструмента портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_ob_c_p_t(int v)")]),t._v(" "),s("td",[t._v('изменить "Calc price OB" инструмента портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_ob_t_p_t(int v)")]),t._v(" "),s("td",[t._v('изменить "Trading price OB" инструмента портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_decimals(int v)")]),t._v(" "),s("td",[t._v('изменить "Decimals" инструмента портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_client_code(std::string v)")]),t._v(" "),s("td",[t._v('изменить "Client code" инструмента портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_on_buy(int v)")]),t._v(" "),s("td",[t._v('изменить "On buy" инструмента портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_leverage(int v)")]),t._v(" "),s("td",[t._v('изменить "Leverage" инструмента портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_count_type(int v)")]),t._v(" "),s("td",[t._v('изменить "Count type" инструмента портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_k(double v)")]),t._v(" "),s("td",[t._v('изменить "k" инструмента портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_sle(bool v)")]),t._v(" "),s("td",[t._v('изменить "SLE" инструмента портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_sl(double v)")]),t._v(" "),s("td",[t._v('изменить "SL" инструмента портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_tp(double v)")]),t._v(" "),s("td",[t._v('изменить "TP" инструмента портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_k_sl(double v)")]),t._v(" "),s("td",[t._v('изменить "k_sl" инструмента портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_te(bool v)")]),t._v(" "),s("td",[t._v('изменить "TE" инструмента портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_timer(int v)")]),t._v(" "),s("td",[t._v('изменить "Timer" инструмента портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_ratio_sign(int v)")]),t._v(" "),s("td",[t._v('изменить "Ratio sign" инструмента портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_ratio_type(int v)")]),t._v(" "),s("td",[t._v('изменить "Ratio type" инструмента портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_percent_of_quantity(double v)")]),t._v(" "),s("td",[t._v('изменить "Percent of quantity" инструмента портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_fin_res_mult(double v)")]),t._v(" "),s("td",[t._v('изменить "Fin res multiplier" инструмента портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_comission_sign(int v)")]),t._v(" "),s("td",[t._v('изменить "Commission type" инструмента портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_comission(double v)")]),t._v(" "),s("td",[t._v('изменить "Commission" инструмента портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_mm(bool v)")]),t._v(" "),s("td",[t._v('изменить "MM" инструмента портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_maker(bool v)")]),t._v(" "),s("td",[t._v('изменить "Only maker" инструмента портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_move_limits(bool v)")]),t._v(" "),s("td",[t._v('изменить "FUT move limits" инструмента портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_move_limits1(bool v)")]),t._v(" "),s("td",[t._v('изменить "SPOT move limits" инструмента портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_depth_ob(int v)")]),t._v(" "),s("td",[t._v('изменить "Depth OB" инструмента портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_ob_c_p_t(int v)")]),t._v(" "),s("td",[t._v('изменить "Calc price OB" инструмента портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_ob_t_p_t(int v)")]),t._v(" "),s("td",[t._v('изменить "Trading price OB" инструмента портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_mc_level_to0(double v)")]),t._v(" "),s("td",[t._v('изменить "Level to0" инструмента портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_mc_level_close(double v)")]),t._v(" "),s("td",[t._v('изменить "Level close" инструмента портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_max_trans_musec(long long v)")]),t._v(" "),s("td",[t._v('изменить "Max trans time" инструмента портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_ban_period(long long v)")]),t._v(" "),s("td",[t._v('изменить "Ban period" инструмента портфеля на значение v')])])])]),t._v(" "),s("p",[t._v("Методы "),s("code",[t._v("order_pool")]),t._v(":")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Метод")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("bool has_next()")]),t._v(" "),s("td",[t._v("есть ли еще заявка в списке заявок")])]),t._v(" "),s("tr",[s("td",[t._v("order_item next()")]),t._v(" "),s("td",[t._v("получить текущую заявку (если ее нет, вы получите исключение std::out_of_range) и передвинуть указатель на следующую заявку в списке")])])])]),t._v(" "),s("p",[t._v("По своей сути "),s("code",[t._v("order_pool")]),t._v(" является итератором для списка заявок бумаги портфеля робота. Вы можете получить только следующую заявку в списке, если нужно вернуться к предыдущей - сохраняйте ее или получите "),s("code",[t._v("order_pool")]),t._v(" заново.")]),t._v(" "),s("p",[t._v("Поля "),s("code",[t._v("order_item")]),t._v(":")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Название")]),t._v(" "),s("th",[t._v("Тип")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("price")]),t._v(" "),s("td",[t._v("double")]),t._v(" "),s("td",[t._v("цена")])]),t._v(" "),s("tr",[s("td",[t._v("amount")]),t._v(" "),s("td",[t._v("long long")]),t._v(" "),s("td",[t._v("количество")])]),t._v(" "),s("tr",[s("td",[t._v("amount_rest")]),t._v(" "),s("td",[t._v("long long")]),t._v(" "),s("td",[t._v("остаток")])]),t._v(" "),s("tr",[s("td",[t._v("dir")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("направление")])]),t._v(" "),s("tr",[s("td",[t._v("status")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("статус")])])])]),t._v(" "),s("p",[s("code",[t._v("order_item")]),t._v(" является заявкой робота, возможные значения полей "),s("code",[t._v("dir")]),t._v(" и "),s("code",[t._v("status")]),t._v(" описаны в константах.")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://fkviking.github.io/bot-doc08-c-api.md#_8-8-%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80%D1%8B-%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%B0-%D0%BA-%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D0%B0%D0%BC-%D0%BF%D0%BE%D1%80%D1%82%D1%84%D0%B5%D0%BB%D1%8F-%D0%B8%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0-%D1%81%D0%B4%D0%B5%D0%BB%D0%BA%D0%B8-%D0%BF%D0%BE%D0%B7%D0%B8%D1%86%D0%B8%D0%B8",target:"_blank",rel:"noopener noreferrer"}},[s("em",[t._v("Пример:")]),s("OutboundLink")],1),t._v(" использования структур "),s("code",[t._v("order_pool")]),t._v(" и "),s("code",[t._v("order_item")])]),t._v(" "),s("h2",{attrs:{id:"_8-5-доступ-и-изменение-полеи-портфеля",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-5-доступ-и-изменение-полеи-портфеля"}},[t._v("#")]),t._v(" 8.5. Доступ и изменение полей портфеля "),s("Anchor",{attrs:{ids:["доступ-и-изменение-полей-портфеля"]}})],1),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Функция")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("struct portfolio get_portfolio(const std::string& p)")]),t._v(" "),s("td",[t._v("получить портфель c именем p")])]),t._v(" "),s("tr",[s("td",[t._v("struct portfolio get_portfolio()")]),t._v(" "),s("td",[t._v("получить текущий портфель")])])])]),t._v(" "),s("p",[t._v("Методы "),s("code",[t._v("portfolio")]),t._v(":")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Метод")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("void restart_sec_iter()")]),t._v(" "),s("td",[t._v("инциализировать итератор (для одного портфеля НЕЛЬЗЯ использовать один итератор вложенный в другой)")])]),t._v(" "),s("tr",[s("td",[t._v("bool has_next_sec()")]),t._v(" "),s("td",[t._v("есть ли еще бумаги в списке бумаг портфеля")])]),t._v(" "),s("tr",[s("td",[t._v("security_fields next_sec()")]),t._v(" "),s("td",[t._v("получить следующую бумагу портфеля ("),s("a",{attrs:{href:"#__Example3__"}},[t._v(" пример итерации ")]),t._v(")")])]),t._v(" "),s("tr",[s("td",[t._v("deal_item deal(const std::string& s)")]),t._v(" "),s("td",[t._v("получить сделку по бумаге c SecKey s (доступно только в Trade formula, т.е. на момент совершения сделки), если сделки по указанной бумаге в реальности не было, то "),s("code",[t._v("amount")]),t._v(" и "),s("code",[t._v("price")]),t._v(" будут равны нулю")])]),t._v(" "),s("tr",[s("td",[t._v("deal_item deal(const security_fields& sf)")]),t._v(" "),s("td",[t._v("получить сделку по бумаге sf (доступно только в Trade formula, т.е. на момент совершения сделки), если сделки по указанной бумаге в реальности не было, то "),s("code",[t._v("amount")]),t._v(" и "),s("code",[t._v("price")]),t._v(" будут равны нулю")])]),t._v(" "),s("tr",[s("td",[t._v("struct security_fields security_field(const std::string& s)")]),t._v(" "),s("td",[t._v("получить бумагу данного портфеля с SecKey s")])]),t._v(" "),s("tr",[s("td",[t._v("struct security_fields security_field()")]),t._v(" "),s("td",[t._v("получить главную бумагу текущего портфеля")])]),t._v(" "),s("tr",[s("td",[t._v("std::map<std::string, double>& data()")]),t._v(" "),s("td",[t._v("словарь для сохранения пользовательских значений, НЕ будет сохранен при выключении робота")])]),t._v(" "),s("tr",[s("td",[t._v("const user_value& uf0()")]),t._v(" "),s("td",[t._v('получить "пользовательское поле" под номером 0 (пользовательские значения никак НЕ используются в штатном алгоритме робота)')])]),t._v(" "),s("tr",[s("td",[t._v("...")]),t._v(" "),s("td",[t._v("...")])]),t._v(" "),s("tr",[s("td",[t._v("const user_value& uf19()")]),t._v(" "),s("td",[t._v('получить "пользовательское поле" под номером 19 (пользовательские значения никак НЕ используются в штатном алгоритме робота)')])]),t._v(" "),s("tr",[s("td",[t._v("std::string name()")]),t._v(" "),s("td",[t._v('получить "Name" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("int decimals()")]),t._v(" "),s("td",[t._v('получить "Decimals" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("std::string comment()")]),t._v(" "),s("td",[t._v('получить "Comment" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("bool re_sell()")]),t._v(" "),s("td",[t._v('получить "re_sell" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("bool re_buy()")]),t._v(" "),s("td",[t._v('получить "re_buy" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("bool use_tt()")]),t._v(" "),s("td",[t._v('получить "Use timetable" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("int portfolio_type()")]),t._v(" "),s("td",[t._v('получить "Type" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("long long v_in_l()")]),t._v(" "),s("td",[t._v('получить "v_in_left" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("long long v_in_r()")]),t._v(" "),s("td",[t._v('получить "v_in_right" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("long long v_out_l()")]),t._v(" "),s("td",[t._v('получить "v_out_left" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("long long v_out_r()")]),t._v(" "),s("td",[t._v('получить "v_out_right" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("long long v_min()")]),t._v(" "),s("td",[t._v('получить "v_min" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("long long v_max()")]),t._v(" "),s("td",[t._v('получить "v_max" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double k()")]),t._v(" "),s("td",[t._v('получить "K" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double k1()")]),t._v(" "),s("td",[t._v('получить "K1" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double k2()")]),t._v(" "),s("td",[t._v('получить "K2" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double tp()")]),t._v(" "),s("td",[t._v('получить "TP" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("bool equal_prices()")]),t._v(" "),s("td",[t._v('получить "Equal prices" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("bool always_limits_timer()")]),t._v(" "),s("td",[t._v('получить "Always timer" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double lim_s()")]),t._v(" "),s("td",[t._v('получить "Lim_Sell" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double lim_b()")]),t._v(" "),s("td",[t._v('получить "Lim_Buy" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double delta()")]),t._v(" "),s("td",[t._v('получить "Delta" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double first_delta()")]),t._v(" "),s("td",[t._v('получить "First delta" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("long long mkt_volume()")]),t._v(" "),s("td",[t._v('получить "Market volume" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("int type_trade()")]),t._v(" "),s("td",[t._v('получить "Type trade" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("int price_type()")]),t._v(" "),s("td",[t._v('получить "Type price" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("bool simply_first()")]),t._v(" "),s("td",[t._v('получить "Simply first" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("bool quote()")]),t._v(" "),s("td",[t._v('получить "Quote" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double percent()")]),t._v(" "),s("td",[t._v('получить "Percent" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("int timer()")]),t._v(" "),s("td",[t._v('получить "Limits timer" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("bool to0()")]),t._v(" "),s("td",[t._v('получить "To0" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("bool virtual_0_pos()")]),t._v(" "),s("td",[t._v('получить "Virt 0 pos" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double opened()")]),t._v(" "),s("td",[t._v('получить "Opened" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double opened_comission()")]),t._v(" "),s("td",[t._v('получить "Commission sum" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double fin_res_wo_c()")]),t._v(" "),s("td",[t._v('получить "Fin res wo C" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double fin_res()")]),t._v(" "),s("td",[t._v('получить "Fin res" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("long long pos()")]),t._v(" "),s("td",[t._v('получить "Pos" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("int n_perc_fill()")]),t._v(" "),s("td",[t._v('получить "n_perc_fill" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("int max_not_hedged()")]),t._v(" "),s("td",[t._v('получить "Max not hedged" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double return_first()")]),t._v(" "),s("td",[t._v('получить "Return first" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double price_check()")]),t._v(" "),s("td",[t._v('получить "Price check" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("int hedge_after()")]),t._v(" "),s("td",[t._v('получить "Hedge (sec)" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("long long overlay()")]),t._v(" "),s("td",[t._v('получить "Overlay" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double ext_field1()")]),t._v(" "),s("td",[t._v('получить "Extra field#1" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double ext_field2()")]),t._v(" "),s("td",[t._v('получить "Extra field#2" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double sell()")]),t._v(" "),s("td",[t._v('получить "Sell" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double buy()")]),t._v(" "),s("td",[t._v('получить "Buy" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double price_s()")]),t._v(" "),s("td",[t._v('получить "Price_s" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("double price_b()")]),t._v(" "),s("td",[t._v('получить "Price_b" портфеля')])]),t._v(" "),s("tr",[s("td",[t._v("void set_uf0(const user_value& v)")]),t._v(" "),s("td",[t._v('изменить "пользовательское поле" под номером 0 (пользовательские значения никак НЕ используются в штатном алгоритме робота)')])]),t._v(" "),s("tr",[s("td",[t._v("...")]),t._v(" "),s("td",[t._v("...")])]),t._v(" "),s("tr",[s("td",[t._v("void set_uf19(const user_value& v)")]),t._v(" "),s("td",[t._v('изменить "пользовательское поле" под номером 19 (пользовательские значения никак НЕ используются в штатном алгоритме робота)')])]),t._v(" "),s("tr",[s("td",[t._v("void set_decimals(int v)")]),t._v(" "),s("td",[t._v('изменить "Decimals" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_comment(std::string v)")]),t._v(" "),s("td",[t._v('изменить "Comment" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_re_sell(bool v)")]),t._v(" "),s("td",[t._v('изменить "re_sell" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_re_buy(bool v)")]),t._v(" "),s("td",[t._v('изменить "re_buy" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_use_tt(bool v)")]),t._v(" "),s("td",[t._v('изменить "Use timetable" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_portfolio_type(int v)")]),t._v(" "),s("td",[t._v('изменить "Type" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_v_in_l(long long v)")]),t._v(" "),s("td",[t._v('изменить "v_in_left" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_v_in_r(long long v)")]),t._v(" "),s("td",[t._v('изменить "v_in_right" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_v_out_l(long long v)")]),t._v(" "),s("td",[t._v('изменить "v_out_left" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_v_out_r(long long v)")]),t._v(" "),s("td",[t._v('изменить "v_out_right" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_v_min(long long v)")]),t._v(" "),s("td",[t._v('изменить "v_min" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_v_max(long long v)")]),t._v(" "),s("td",[t._v('изменить "v_max" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_k(double v)")]),t._v(" "),s("td",[t._v('изменить "K" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_k1(double v)")]),t._v(" "),s("td",[t._v('изменить "K1" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_k2(double v)")]),t._v(" "),s("td",[t._v('изменить "K2" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_tp(double v)")]),t._v(" "),s("td",[t._v('изменить "TP" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_equal_prices(bool v)")]),t._v(" "),s("td",[t._v('изменить "Equal prices" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_always_limits_timer(bool v)")]),t._v(" "),s("td",[t._v('изменить "Always timer" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_lim_s(double v)")]),t._v(" "),s("td",[t._v('изменить "Lim_Sell" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_lim_b(double v)")]),t._v(" "),s("td",[t._v('изменить "Lim_Buy" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_delta(double v)")]),t._v(" "),s("td",[t._v('изменить "Delta" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_first_delta(double v)")]),t._v(" "),s("td",[t._v('изменить "First delta" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_mkt_volume(long long v)")]),t._v(" "),s("td",[t._v('изменить "Market volume" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_type_trade(int v)")]),t._v(" "),s("td",[t._v('изменить "Type trade" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_price_type(int v)")]),t._v(" "),s("td",[t._v('изменить "Type price" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_simply_first(bool v)")]),t._v(" "),s("td",[t._v('изменить "Simply first" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_quote(bool v)")]),t._v(" "),s("td",[t._v('изменить "Quote" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_percent(double v)")]),t._v(" "),s("td",[t._v('изменить "Percent" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_timer(int v)")]),t._v(" "),s("td",[t._v('изменить "Limits timer" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_to0(bool v)")]),t._v(" "),s("td",[t._v('изменить "To0" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_virtual_0_pos(bool v)")]),t._v(" "),s("td",[t._v('изменить "Virt 0 pos" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_opened(double v)")]),t._v(" "),s("td",[t._v('изменить "Opened" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_opened_comission(double v)")]),t._v(" "),s("td",[t._v('изменить "Commission sum" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_n_perc_fill(int v)")]),t._v(" "),s("td",[t._v('изменить "n_perc_fill" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_max_not_hedged(int v)")]),t._v(" "),s("td",[t._v('изменить "Max not hedged" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_return_first(double v)")]),t._v(" "),s("td",[t._v('изменить "Return first" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_price_check(double v)")]),t._v(" "),s("td",[t._v('изменить "Price check" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_hedge_after(int v)")]),t._v(" "),s("td",[t._v('изменить "Hedge (sec)" портфеля на значение v')])]),t._v(" "),s("tr",[s("td",[t._v("void set_overlay(long long v)")]),t._v(" "),s("td",[t._v('изменить "Overlay" портфеля на значение v')])])])]),t._v(" "),s("p",[t._v('Для того чтобы иметь возможность обращаться по индексу к "пользовательским полям" есть массивы:'),s("Anchor",{attrs:{ids:["user-fields"]}})],1),t._v(" "),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typedef")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" user_value"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("gUF"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" gUF uf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("uf0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("uf1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("uf2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("uf3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("uf4"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("uf5"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("uf6"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("uf7"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("uf8"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("uf9"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("uf10"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("uf11"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("uf12"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("uf13"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("uf14"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("uf15"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("uf16"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("uf17"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("uf18"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("uf19"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typedef")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("sUF"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" user_value"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" sUF set_uf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("set_uf0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("set_uf1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("set_uf2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("set_uf3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("set_uf4"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                             "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("set_uf5"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("set_uf6"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("set_uf7"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("set_uf8"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("set_uf9"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                             "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("set_uf10"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("set_uf11"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("set_uf12"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("set_uf13"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("set_uf14"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                             "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("set_uf15"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("set_uf16"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("set_uf17"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("set_uf18"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("portfolio"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("set_uf19"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("a",{attrs:{href:"#__Example6__"}},[s("em",[t._v("Пример:")])]),t._v(' Пример доступа и редактирования "пользовательских полей" по индексу.')]),t._v(" "),s("p",[t._v("Поля "),s("code",[t._v("deal_item")]),t._v(":")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Название")]),t._v(" "),s("th",[t._v("Тип")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("price")]),t._v(" "),s("td",[t._v("double")]),t._v(" "),s("td",[t._v("средневзвешенная цена сделки")])]),t._v(" "),s("tr",[s("td",[t._v("amount")]),t._v(" "),s("td",[t._v("long long")]),t._v(" "),s("td",[t._v("суммарный объем сделки в лотах")])]),t._v(" "),s("tr",[s("td",[t._v("dir")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("направление сделки: 1 - покупка, 2 - продажа")])])])]),t._v(" "),s("p",[t._v("Конструкторы "),s("code",[t._v("user_value")]),t._v(":")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Конструктор")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("user_value()")]),t._v(" "),s("td",[t._v('создать "пустое" пользовательское значение')])]),t._v(" "),s("tr",[s("td",[t._v("user_value(double value, const std::string& caption)")]),t._v(" "),s("td",[t._v("создать пользовательское значение, указав значение и подпись")])]),t._v(" "),s("tr",[s("td",[t._v("user_value(double value)")]),t._v(" "),s("td",[t._v("создать пользовательское значение, указав только зачение")])]),t._v(" "),s("tr",[s("td",[t._v("user_value(const std::string& caption)")]),t._v(" "),s("td",[t._v("создать пользовательское значение, указав только подпись")])])])]),t._v(" "),s("p",[t._v("Методы "),s("code",[t._v("user_value")]),t._v(":")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Метод")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("double value() const")]),t._v(" "),s("td",[t._v("получить значение")])]),t._v(" "),s("tr",[s("td",[t._v("void set_value(double value)")]),t._v(" "),s("td",[t._v("задать значение")])]),t._v(" "),s("tr",[s("td",[t._v("bool has_value() const")]),t._v(" "),s("td",[t._v("проверить задано ли значение")])]),t._v(" "),s("tr",[s("td",[t._v("std::string caption() const")]),t._v(" "),s("td",[t._v("получить подпись")])]),t._v(" "),s("tr",[s("td",[t._v("void set_caption(const std::string& caption)")]),t._v(" "),s("td",[t._v("задать подпись")])]),t._v(" "),s("tr",[s("td",[t._v("bool has_caption() const")]),t._v(" "),s("td",[t._v("проверить задана ли подпись")])]),t._v(" "),s("tr",[s("td",[t._v("user_value& operator=(const user_value& v)")]),t._v(" "),s("td",[t._v('оператор копирования, только НЕ "пустые" значения будут скопированы')])])])]),t._v(" "),s("p",[s("a",{attrs:{href:"#__Example2__"}},[s("em",[t._v("Пример:")])]),t._v(" Пример использования структуры "),s("code",[t._v("user_value")]),t._v(".")]),t._v(" "),s("h2",{attrs:{id:"_8-6-доступ-и-изменение-позиции-транзакционного-подключения",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-6-доступ-и-изменение-позиции-транзакционного-подключения"}},[t._v("#")]),t._v(" 8.6. Доступ и изменение позиций транзакционного подключения "),s("Anchor",{attrs:{ids:["доступ-и-изменение-позиций-транзакционного-подключения"]}})],1),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Функция")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("struct connection get_connection(const std::string& c)")]),t._v(" "),s("td",[t._v("получить подключение c именем c")])])])]),t._v(" "),s("p",[t._v("Методы "),s("code",[t._v("connection")]),t._v(":")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Метод")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("sec_item sec(const std::string& s)")]),t._v(" "),s("td",[t._v("получить информацию о позиции инструмена на бирже (в качестве s необходимо использовать SecBoard из пп "),s("strong",[t._v("5.5.1. Параметры позиций по инструментам")]),t._v(")")])]),t._v(" "),s("tr",[s("td",[t._v("coin_item sec(const std::string& s)")]),t._v(" "),s("td",[t._v("получить информацию о балансе валюты на бирже (в качестве s необходимо использовать Currency из "),s("strong",[t._v("5.5.2. Параметры позиций по валютам")]),t._v(")")])]),t._v(" "),s("tr",[s("td",[t._v("bool is_active()")]),t._v(" "),s("td",[t._v("получить информацию о том подключено ли подключение к бирже")])])])]),t._v(" "),s("p",[t._v("Meтоды "),s("code",[t._v("sec_item")]),t._v(":")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Метод")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("long long pos()")]),t._v(" "),s("td",[t._v('получить поле "Pos" инструмента')])]),t._v(" "),s("tr",[s("td",[t._v("long long robot_pos()")]),t._v(" "),s("td",[t._v('получить поле "Robot pos" инструмента')])]),t._v(" "),s("tr",[s("td",[t._v("double mark_price()")]),t._v(" "),s("td",[t._v('получить поле "Mark. price" инструмента')])]),t._v(" "),s("tr",[s("td",[t._v("double liq_price()")]),t._v(" "),s("td",[t._v('получить поле "Liq. price" инструмента')])]),t._v(" "),s("tr",[s("td",[t._v("long long pos_lag()")]),t._v(" "),s("td",[t._v('получить поле "Pos lag" инструмента')])]),t._v(" "),s("tr",[s("td",[t._v("bool pos_eq()")]),t._v(" "),s("td",[t._v('получить поле "Check equality" инструмента')])]),t._v(" "),s("tr",[s("td",[t._v("bool tgr()")]),t._v(" "),s("td",[t._v('получить поле "Tgr notify" инструмента')])]),t._v(" "),s("tr",[s("td",[t._v("void set_pos_lag(long long v)")]),t._v(" "),s("td",[t._v('изменить поле "Pos lag" инструмента')])]),t._v(" "),s("tr",[s("td",[t._v("void set_pos_eq(bool v)")]),t._v(" "),s("td",[t._v('изменить поле "Check equality" инструмента')])]),t._v(" "),s("tr",[s("td",[t._v("void set_tgr(bool v)")]),t._v(" "),s("td",[t._v('изменить поле "Tgr notify" инструмента')])])])]),t._v(" "),s("p",[t._v("Meтоды "),s("code",[t._v("coin_item")]),t._v(":")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Метод")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("double pos()")]),t._v(" "),s("td",[t._v('получить поле "Pos" (или "Limit") валюты')])]),t._v(" "),s("tr",[s("td",[t._v("double robot_pos()")]),t._v(" "),s("td",[t._v('получить поле "Robot pos" валюты')])]),t._v(" "),s("tr",[s("td",[t._v("double pos_lag()")]),t._v(" "),s("td",[t._v('получить поле "Pos lag" валюты')])]),t._v(" "),s("tr",[s("td",[t._v("bool pos_eq()")]),t._v(" "),s("td",[t._v('получить поле "Check equality" валюты')])]),t._v(" "),s("tr",[s("td",[t._v("bool tgr()")]),t._v(" "),s("td",[t._v('получить поле "Tgr notify" валюты')])]),t._v(" "),s("tr",[s("td",[t._v("void set_pos_lag(double v)")]),t._v(" "),s("td",[t._v('изменить поле "Pos lag" валюты')])]),t._v(" "),s("tr",[s("td",[t._v("void set_pos_eq(bool v)")]),t._v(" "),s("td",[t._v('изменить поле "Check equality" валюты')])]),t._v(" "),s("tr",[s("td",[t._v("void set_tgr(bool v)")]),t._v(" "),s("td",[t._v('изменить поле "Tgr notify" валюты')])])])]),t._v(" "),s("h2",{attrs:{id:"_8-7-дополнительные-классы-структуры-функции-и-константы",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-7-дополнительные-классы-структуры-функции-и-константы"}},[t._v("#")]),t._v(" 8.7. Дополнительные классы, структуры, функции и константы "),s("Anchor",{attrs:{ids:["дополнительные-классы,-структуры,-функции-и-константы"]}})],1),t._v(" "),s("h3",{attrs:{id:"_8-7-1-константы",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-7-1-константы"}},[t._v("#")]),t._v(" 8.7.1. Константы "),s("Anchor",{attrs:{ids:["константы"]}})],1),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Название")]),t._v(" "),s("th",[t._v("Тип")]),t._v(" "),s("th",[t._v("Значение/описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("BUY")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("1, направление торговли - покупка")])]),t._v(" "),s("tr",[s("td",[t._v("SELL")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("2, направление торговли - продажа")])]),t._v(" "),s("tr",[s("td",[t._v("FREE")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("0, заявка не активна")])]),t._v(" "),s("tr",[s("td",[t._v("ADDING")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("1, заявка отправлена на биржу")])]),t._v(" "),s("tr",[s("td",[t._v("RUNNING")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("2, получен ответ о том, что заявка выставлена")])]),t._v(" "),s("tr",[s("td",[t._v("DELETING")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("4, снятие заявки отправлено на биржу")])]),t._v(" "),s("tr",[s("td",[t._v("FIRST_DELETING")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("5, снятие котируемой заявки отправлено на биржу")])]),t._v(" "),s("tr",[s("td",[t._v("SL_DELETING")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("6, снятие заявки по стопу отправлено на биржу")])]),t._v(" "),s("tr",[s("td",[t._v("MOVING")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("7, запрос на изменение заявки отправлен на биржу")])]),t._v(" "),s("tr",[s("td",[t._v("ADD_ERROR")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("99, ошибка выставления заявки")])]),t._v(" "),s("tr",[s("td",[t._v("TRADING_HALT")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("0, выставления и снятие заявок запрещены")])]),t._v(" "),s("tr",[s("td",[s("Anchor",{attrs:{ids:["__TRADING_CAN_PLACE__"]}}),t._v("TRADING_CAN_PLACE")],1),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("1, разрешено выставления заявок")])]),t._v(" "),s("tr",[s("td",[s("Anchor",{attrs:{ids:["__TRADING_CAN_CANCEL__"]}}),t._v("TRADING_CAN_CANCEL")],1),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("2, разрешено снятие заявок")])]),t._v(" "),s("tr",[s("td",[t._v("MARKET_DATA_OFFLINE")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("0, маркет-дата подключение для данной бумаги оффлайн")])]),t._v(" "),s("tr",[s("td",[s("Anchor",{attrs:{ids:["__MARKET_DATA_BESTS_ONLINE__"]}}),t._v("MARKET_DATA_BESTS_ONLINE")],1),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("1, для данной бумаги маркет-дата подключение с лучшими ценами на покупку/продажу онлайн")])]),t._v(" "),s("tr",[s("td",[s("Anchor",{attrs:{ids:["__MARKET_DATA_OB_ONLINE__"]}}),t._v("MARKET_DATA_OB_ONLINE")],1),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("2, для данной бумаги маркет-дата подключение со стаканами онлайн")])]),t._v(" "),s("tr",[s("td",[t._v("NAME")]),t._v(" "),s("td",[t._v("std::string")]),t._v(" "),s("td",[t._v("имя текущего портфеля")])])])]),t._v(" "),s("h3",{attrs:{id:"_8-7-2-функции",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-7-2-функции"}},[t._v("#")]),t._v(" 8.7.2. Функции "),s("Anchor",{attrs:{ids:["функции"]}})],1),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Функция")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("long long nanosec_date_time()")]),t._v(" "),s("td",[t._v("получить текущее время в epoch в наносекундах")])]),t._v(" "),s("tr",[s("td",[t._v("struct tm global_tm()")]),t._v(" "),s("td",[t._v("получить текущее время")])]),t._v(" "),s("tr",[s("td",[t._v("day_time get_day_time()")]),t._v(" "),s("td",[t._v("получить текущее время дня")])]),t._v(" "),s("tr",[s("td",[t._v("void log_info(const std::string& msg)")]),t._v(" "),s("td",[t._v("отправить сообщение с уровнем INFO в лог")])]),t._v(" "),s("tr",[s("td",[t._v("void log_warn(const std::string& msg)")]),t._v(" "),s("td",[t._v("отправить сообщение с уровнем WARNING в лог")])]),t._v(" "),s("tr",[s("td",[t._v("void log_error(const std::string& msg)")]),t._v(" "),s("td",[t._v("отправить сообщение с уровнем ERROR в лог")])]),t._v(" "),s("tr",[s("td",[s("Anchor",{attrs:{ids:["__TGR_NOTIFY__"]}}),t._v(" bool tgr_notify(int slot, const std::string& msg, int timeout)")],1),t._v(" "),s("td",[t._v("отправить сообщение с уровнем NOTIFICATION в лог и уведомление в telegram, отправлять не чаще, чем "),s("code",[t._v("timeout")]),t._v(" секунд (число из отрезка "),s("code",[t._v("[10, 2000000000]")]),t._v("), "),s("code",[t._v("slot")]),t._v(" - идентификатор слота уведомления (число из отрезка "),s("code",[t._v("[0, 4]")]),t._v("), для которого будет отсчитываться "),s("code",[t._v("timeout")])])])])]),t._v(" "),s("h3",{attrs:{id:"_8-7-3-структуры",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-7-3-структуры"}},[t._v("#")]),t._v(" 8.7.3. Структуры "),s("Anchor",{attrs:{ids:["структуры"]}})],1),t._v(" "),s("p",[t._v("Структура "),s("code",[t._v("day_time")]),t._v(" (время дня в часах, минутах, секундах):"),s("Anchor",{attrs:{ids:["day_time"]}})],1),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Конструктор")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("day_time()")]),t._v(" "),s("td",[t._v("создать объект с временем "),s("code",[t._v("00:00:00")])])]),t._v(" "),s("tr",[s("td",[t._v("day_time(int h, int m, int s)")]),t._v(" "),s("td",[t._v("создать объект с временем "),s("code",[t._v("h:m:s")])])]),t._v(" "),s("tr",[s("td",[t._v("day_time(const day_time& dt)")]),t._v(" "),s("td",[t._v("конструктор копирования")])])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Название поля")]),t._v(" "),s("th",[t._v("Тип")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("h")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("часы (от "),s("code",[t._v("0")]),t._v(" до "),s("code",[t._v("23")]),t._v(")")])]),t._v(" "),s("tr",[s("td",[t._v("m")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("минуты (от "),s("code",[t._v("0")]),t._v(" до "),s("code",[t._v("59")]),t._v(")")])]),t._v(" "),s("tr",[s("td",[t._v("s")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("секунды (от "),s("code",[t._v("0")]),t._v(" до "),s("code",[t._v("59")]),t._v(")")])])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Функции и методы")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("int to_sec() const")]),t._v(" "),s("td",[t._v("получить время в секундах, т.е. "),s("code",[t._v("h * 3600 + m * 60 + s")])])]),t._v(" "),s("tr",[s("td",[t._v("bool operator<(const day_time& a, const day_time& b)")]),t._v(" "),s("td",[t._v("оператор "),s("code",[t._v("<")])])]),t._v(" "),s("tr",[s("td",[t._v("bool operator<=(const day_time& a, const day_time& b)")]),t._v(" "),s("td",[t._v("оператор "),s("code",[t._v("<=")])])]),t._v(" "),s("tr",[s("td",[t._v("bool operator>(const day_time& a, const day_time& b)")]),t._v(" "),s("td",[t._v("оператор "),s("code",[t._v(">")])])]),t._v(" "),s("tr",[s("td",[t._v("bool operator>=(const day_time& a, const day_time& b)")]),t._v(" "),s("td",[t._v("оператор "),s("code",[t._v(">=")])])]),t._v(" "),s("tr",[s("td",[t._v("bool operator==(const day_time& a, const day_time& b)")]),t._v(" "),s("td",[t._v("оператор "),s("code",[t._v("==")])])]),t._v(" "),s("tr",[s("td",[t._v("bool operator!=(const day_time& a, const day_time& b)")]),t._v(" "),s("td",[t._v("оператор "),s("code",[t._v("!=")])])])])]),t._v(" "),s("p",[s("a",{attrs:{href:"#__Example4__"}},[s("em",[t._v("Пример:")])]),t._v(" Пример использования структуры "),s("code",[t._v("day_time")]),t._v(".")]),t._v(" "),s("h3",{attrs:{id:"_8-7-4-классы",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-7-4-классы"}},[t._v("#")]),t._v(" 8.7.4. Классы "),s("Anchor",{attrs:{ids:["классы"]}})],1),t._v(" "),s("p",[s("strong",[t._v("Важно:")]),t._v(" все классы, описанные ниже, относятся к пространству имен "),s("code",[t._v("timers")]),t._v(".")]),t._v(" "),s("p",[t._v("Класс "),s("code",[t._v("timer")]),t._v(" (отмеряет отрезки времени не менее заданного в наносекундах): "),s("Anchor",{attrs:{ids:["timers"]}})],1),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Конструктор")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("timer(unsigned long long timeout, bool initialized = false)")]),t._v(" "),s("td",[t._v("создать объект с интервалом таймера "),s("code",[t._v("timeout")]),t._v(" (в наносекундах), если "),s("code",[t._v("initialized")]),t._v(" истинно, то стартовое время будет задано текущим временем, иначе стартовое время не определено и первый "),s("code",[t._v("timeout")]),t._v(" сработает сразу")])])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Функции и методы")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("bool tick()")]),t._v(" "),s("td",[t._v("Если с момента предыдущего вызова данного метода прошло не меньше, чем "),s("code",[t._v("timeout")]),t._v(" наносекунд, то вернет истину и обновит предыдущее время вызова")])])])]),t._v(" "),s("p",[t._v("Класс "),s("code",[t._v("day_timer")]),t._v(" (отмеряет сутки и вызывается не ранее, чем в заданный момент времени):")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Конструктор")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("day_timer(int h, int m, int s, bool initialized = false)")]),t._v(" "),s("td",[t._v("создать объект с временем срабатывания на следующие сутки не раньше, чем в момент времени "),s("code",[t._v("h:m:s")]),t._v(" (часов, минут, секунд), если "),s("code",[t._v("initialized")]),t._v(" истинно, то стартовое время будет задано текущим временем, иначе стартовое время не определено и первый таймаут может сработать и без смены дня")])]),t._v(" "),s("tr",[s("td",[t._v("day_timer(int h, int m, bool initialized = false)")]),t._v(" "),s("td",[t._v("создать объект с временем срабатывания на следующие сутки не раньше, чем в момент времени "),s("code",[t._v("h:m")]),t._v(" (часов, минут, "),s("code",[t._v("0")]),t._v(" секунд), если "),s("code",[t._v("initialized")]),t._v(" истинно, то стартовое время будет задано текущим временем, иначе стартовое время не определено и первый таймаут может сработать и без смены дня")])]),t._v(" "),s("tr",[s("td",[t._v("day_timer(const "),s("a",{attrs:{href:"#day_time"}},[t._v("day_time")]),t._v("& dt, bool initialized = false)")]),t._v(" "),s("td",[t._v("создать объект с временем срабатывания на следующие сутки не раньше, чем в момент времени "),s("code",[t._v("dt")]),t._v(", если "),s("code",[t._v("initialized")]),t._v(" истинно, то стартовое время будет задано текущим временем, иначе стартовое время не определено и первый таймаут может сработать и без смены дня")])])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Функции и методы")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("bool tick()")]),t._v(" "),s("td",[t._v("Если изменился день и текущее время больше или равно заданному, то вернет истину и обновит сохраненный день")])])])]),t._v(" "),s("p",[s("a",{attrs:{href:"#__Example7__"}},[s("em",[t._v("Пример:")])]),t._v(" Примеры использования классов "),s("code",[t._v("timer")]),t._v(" и "),s("code",[t._v("day_timer")]),t._v(".")]),t._v(" "),s("h3",{attrs:{id:"_8-7-5-функции-для-работы-с-опционами",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-7-5-функции-для-работы-с-опционами"}},[t._v("#")]),t._v(" 8.7.5. Функции для работы с опционами "),s("Anchor",{attrs:{ids:["функции-для-работы-с-опционами"]}})],1),t._v(" "),s("h4",{attrs:{id:"_8-7-5-1-умные-функции",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-7-5-1-умные-функции"}},[t._v("#")]),t._v(" 8.7.5.1. "),s("em",[t._v("“Умные” функции")]),t._v(" "),s("Anchor",{attrs:{ids:["_“умные”-функции_"]}})],1),t._v(" "),s("p",[s("strong",[t._v("double S_delta(const std::string& s, double rate = 0)")]),s("br"),t._v(" "),s("strong",[t._v("double P_delta(const std::string& p, double rate = 0)")]),s("br"),t._v("\nвычисляет дельту финансового инструмента или портфеля со ставкой рефинансирования "),s("code",[t._v("rate")]),t._v(" (указывается в процентах)")]),t._v(" "),s("p",[s("strong",[t._v("double S_gamma(const std::string& s, double rate = 0)")]),s("br"),t._v(" "),s("strong",[t._v("double P_gamma(const std::string& p, double rate = 0)")]),s("br"),t._v("\nвычисляет гамму финансового инструмента или портфеля со ставкой рефинансирования "),s("code",[t._v("rate")]),t._v(" (указывается в процентах)")]),t._v(" "),s("p",[s("strong",[t._v("double S_vega(const std::string& s, double rate = 0)")]),s("br"),t._v(" "),s("strong",[t._v("double P_vega(const std::string& p, double rate = 0)")]),s("br"),t._v("\nвычисляет вегу финансового инструмента или портфеля со ставкой рефинансирования "),s("code",[t._v("rate")]),t._v(" (указывается в процентах)")]),t._v(" "),s("p",[s("strong",[t._v("double S_theta(const std::string& s, double rate = 0)")]),s("br"),t._v(" "),s("strong",[t._v("double P_theta(const std::string& p, double rate = 0)")]),s("br"),t._v("\nвычисляет тету финансового инструмента или портфеля со ставкой рефинансирования "),s("code",[t._v("rate")]),t._v(" (указывается в процентах)")]),t._v(" "),s("p",[s("strong",[t._v("double S_iv(const std::string& s, double rate = 0)")]),s("br"),t._v(" "),s("strong",[t._v("double P_iv(const std::string& p, double rate = 0)")]),s("br"),t._v("\nвычисляет ожидаемую волатильность опциона или портфеля со ставкой рефинансирования "),s("code",[t._v("rate")]),t._v(" (указывается в процентах)")]),t._v(" "),s("p",[s("strong",[t._v("double S_price(const std::string& s, double rate = 0)")]),s("br"),t._v("\nвычисляет справедливую цену опциона со ставкой рефинансирования "),s("code",[t._v("rate")]),t._v(" (указывается в процентах)")]),t._v(" "),s("p",[t._v("Аргументы для функций выше:")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Название")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("s")]),t._v(" "),s("td",[t._v("ключ инструмента SecKey")])]),t._v(" "),s("tr",[s("td",[t._v("p")]),t._v(" "),s("td",[t._v("имя портфеля")])]),t._v(" "),s("tr",[s("td",[t._v("rate")]),t._v(" "),s("td",[t._v("ставка рефинансирования в процентах")])])])]),t._v(" "),s("h4",{attrs:{id:"_8-7-5-2-простые-функции",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-7-5-2-простые-функции"}},[t._v("#")]),t._v(" 8.7.5.2. "),s("em",[t._v("“Простые” функции")]),t._v(" "),s("Anchor",{attrs:{ids:["_“простые”-функции_"]}})],1),t._v(" "),s("p",[s("strong",[t._v("double C(double futPrice, double strike, double expDate, double iv, double rate=0)")]),s("br"),t._v("\nвычисляет справедливую цену опциона "),s("code",[t._v("call")])]),t._v(" "),s("p",[s("strong",[t._v("double P(double futPrice, double strike, double expDate, double iv, double rate=0)")]),s("br"),t._v("\nвычисляет справедливую цену опциона "),s("code",[t._v("put")])]),t._v(" "),s("p",[s("strong",[t._v("double CDELTA(double futPrice, double strike, double expDate, double iv, double rate=0)")]),s("br"),t._v("\nвычисляет дельту опциона "),s("code",[t._v("call")])]),t._v(" "),s("p",[s("strong",[t._v("double PDELTA(double futPrice, double strike, double expDate, double iv, double rate=0)")]),t._v("\nвычисляет дельту опциона "),s("code",[t._v("put")])]),t._v(" "),s("p",[s("strong",[t._v("double CGAMMA(double futPrice, double strike, double expDate, double iv, double rate=0)")]),s("br"),t._v("\nвычисляет гамму опциона "),s("code",[t._v("call")])]),t._v(" "),s("p",[s("strong",[t._v("double PGAMMA(double futPrice, double strike, double expDate, double iv, double rate=0)")]),s("br"),t._v("\nвычисляет гамму опциона "),s("code",[t._v("put")])]),t._v(" "),s("p",[s("strong",[t._v("double CVEGA(double futPrice, double strike, double expDate, double iv, double rate=0)")]),s("br"),t._v("\nвычисляет вегу опциона "),s("code",[t._v("call")])]),t._v(" "),s("p",[s("strong",[t._v("double PVEGA(double futPrice, double strike, double expDate, double iv, double rate=0)")]),s("br"),t._v("\nвычисляет вегу опциона "),s("code",[t._v("put")])]),t._v(" "),s("p",[s("strong",[t._v("double CTHETA(double futPrice, double strike, double expDate, double iv, double rate=0)")]),s("br"),t._v("\nвычисляет тету опциона "),s("code",[t._v("call")])]),t._v(" "),s("p",[s("strong",[t._v("double PTHETA(double futPrice, double strike, double expDate, double iv, double rate=0)")]),s("br"),t._v("\nвычисляет тету опциона "),s("code",[t._v("put")])]),t._v(" "),s("p",[s("strong",[t._v("double CIV(double futPrice, double strike, double expDate, double call, double rate=0)")]),s("br"),t._v("\nвычисляет implied volatility опциона "),s("code",[t._v("call")])]),t._v(" "),s("p",[s("strong",[t._v("double PIV(double futPrice, double strike, double expDate, double put, double rate=0)")]),s("br"),t._v("\nвычисляет implied volatility опциона "),s("code",[t._v("put")])]),t._v(" "),s("p",[t._v("Аргументы для функций выше:")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Название")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("futPrice")]),t._v(" "),s("td",[t._v("цена базового актива")])]),t._v(" "),s("tr",[s("td",[t._v("strike")]),t._v(" "),s("td",[t._v("цена страйк опциона")])]),t._v(" "),s("tr",[s("td",[t._v("expData")]),t._v(" "),s("td",[t._v("дата экспирации опциона в формате epoch")])]),t._v(" "),s("tr",[s("td",[t._v("iv")]),t._v(" "),s("td",[t._v("ожидаемая волатильность")])]),t._v(" "),s("tr",[s("td",[t._v("call/put")]),t._v(" "),s("td",[t._v("цена опциона")])]),t._v(" "),s("tr",[s("td",[t._v("rate")]),t._v(" "),s("td",[t._v("ставка рефинансирования в процентах")])])])]),t._v(" "),s("h2",{attrs:{id:"_8-8-индикаторы-и-математическая-статистика",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-8-индикаторы-и-математическая-статистика"}},[t._v("#")]),t._v(" 8.8. Индикаторы и математическая статистика "),s("Anchor",{attrs:{ids:["indicators-docs","индикаторы-и-математическая-статистика"]}})],1),t._v(" "),s("h3",{attrs:{id:"_8-8-1-общие-положения",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-8-1-общие-положения"}},[t._v("#")]),t._v(" 8.8.1. Общие положения "),s("Anchor",{attrs:{ids:["общие-положения"]}})],1),t._v(" "),s("h4",{attrs:{id:"_8-8-1-1-особенности-объектов-для-расчета-значении-индикаторов",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-8-1-1-особенности-объектов-для-расчета-значении-индикаторов"}},[t._v("#")]),t._v(" 8.8.1.1. Особенности объектов для расчета значений индикаторов "),s("Anchor",{attrs:{ids:["особенности-объектов-для-расчета-значений-индикаторов"]}})],1),t._v(" "),s("p",[t._v("Для расчета индикаторов используются объекты соответствующих классов, т.к. объекты создаются внутри функции, то чтобы они каждый раз не создавались заново и инициализировались только один раз, все объекты предполагается создавать как статические ("),s("code",[t._v("static")]),t._v("). Если для расчета значения индикатора нужна\nистория, а ее в данный момент не хватает (т.е. количество значений в истории меньше, чем "),s("code",[t._v("length")]),t._v("), то в качестве значения "),s("code",[t._v("length")]),t._v(" индикаторов будет использоваться текущее количество элементов в накопленной истории.")]),t._v(" "),s("p",[t._v('Все "формулы" в роботе вызываются (пересчитываются) при любом обновлении стакана любой бумаги портфеля + раз в секунду, поэтому пытаться добавлять значение для пересчета индикатора вы можете довольно часто. Добавленное значение будет считаться новым и индикатор будет пересчитан, только если\n'),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mo",[t._v("[")]),s("mfrac",[s("mrow",[s("mi",[t._v("t")])],1),s("mrow",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("t")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("i")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("m")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("e")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("f")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("r")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("a")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("m")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("e")])],1)],1)],1),s("mo",[t._v("]")]),s("mo",[t._v("×")]),s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("t")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("i")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("m")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("e")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("f")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("r")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("a")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("m")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("e")])],1),s("mo",[t._v(">")]),s("msub",[s("mi",[t._v("t")]),s("mrow",[s("mi",[t._v("l")]),s("mi",[t._v("a")]),s("mi",[t._v("s")]),s("mi",[t._v("t")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("[\\frac{t}{\\mathit{timeframe}}] \\times \\mathit{timeframe} > t_{last}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.824556em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"1.305664em","vertical-align":"-0.481108em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mopen"},[t._v("[")]),s("span",{staticClass:"mord reset-textstyle textstyle uncramped"},[s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),s("span",{staticClass:"mfrac"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.345em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mord mathit"},[t._v("i")]),s("span",{staticClass:"mord mathit"},[t._v("m")]),s("span",{staticClass:"mord mathit"},[t._v("e")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),s("span",{staticClass:"mord mathit"},[t._v("a")]),s("span",{staticClass:"mord mathit"},[t._v("m")]),s("span",{staticClass:"mord mathit"},[t._v("e")])])])])]),s("span",{staticStyle:{top:"-0.22999999999999998em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),s("span",{staticStyle:{top:"-0.394em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[s("span",{staticClass:"mord scriptstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),s("span",{staticClass:"mclose"},[t._v("]")]),s("span",{staticClass:"mbin"},[t._v("×")]),s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mord mathit"},[t._v("i")]),s("span",{staticClass:"mord mathit"},[t._v("m")]),s("span",{staticClass:"mord mathit"},[t._v("e")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),s("span",{staticClass:"mord mathit"},[t._v("a")]),s("span",{staticClass:"mord mathit"},[t._v("m")]),s("span",{staticClass:"mord mathit"},[t._v("e")])]),s("span",{staticClass:"mrel"},[t._v(">")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),s("span",{staticClass:"mord mathit"},[t._v("a")]),s("span",{staticClass:"mord mathit"},[t._v("s")]),s("span",{staticClass:"mord mathit"},[t._v("t")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(", где "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("t")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("t")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.61508em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.61508em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])])]),t._v(" - текущее время, "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("t")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("i")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("m")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("e")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("f")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("r")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("a")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("m")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("e")])],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mathit{timeframe}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mord mathit"},[t._v("i")]),s("span",{staticClass:"mord mathit"},[t._v("m")]),s("span",{staticClass:"mord mathit"},[t._v("e")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),s("span",{staticClass:"mord mathit"},[t._v("a")]),s("span",{staticClass:"mord mathit"},[t._v("m")]),s("span",{staticClass:"mord mathit"},[t._v("e")])])])])]),t._v(" - таймфрейм для расчета индиактора, "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("t")]),s("mrow",[s("mi",[t._v("l")]),s("mi",[t._v("a")]),s("mi",[t._v("s")]),s("mi",[t._v("t")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("t_{last}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.61508em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.76508em","vertical-align":"-0.15em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),s("span",{staticClass:"mord mathit"},[t._v("a")]),s("span",{staticClass:"mord mathit"},[t._v("s")]),s("span",{staticClass:"mord mathit"},[t._v("t")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(' - время последнего значения, используемого для расчета индикатора в данный момент. Т.е. по большому счету индикатор строится по\n"ценам открытия" значений на выбранном таймфрейме.')]),t._v(" "),s("p",[s("strong",[t._v("Важно:")]),t._v(" все классы, описанные ниже, относятся к пространству имен "),s("code",[t._v("indicators")]),t._v(".")]),t._v(" "),s("p",[s("a",{attrs:{href:"#__Example5__"}},[s("em",[t._v("Примеры использования индикаторов в пользовательском коде.")])])]),t._v(" "),s("h4",{attrs:{id:"_8-8-1-2-tradingdays-и-schedule-индикатора",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-8-1-2-tradingdays-и-schedule-индикатора"}},[t._v("#")]),t._v(" 8.8.1.2. "),s("code",[t._v("TradingDays")]),t._v(" и "),s("code",[t._v("schedule")]),t._v(" индикатора "),s("Anchor",{attrs:{ids:["`tradingdays`-и-`schedule`-индикатора"]}})],1),t._v(" "),s("p",[t._v('Для расчета любого индикатора обычно используются цены, получаемые с биржи. Если бумага на бирже торгуется 24/7, то никаких сложностей с ценами не возникает, в противном же случае встает вопрос фильтрации получаемых данных, чтобы не пересчитывать индикаторы на "нулевых" и "кривых" ценах (при\nпустых стаканах в неторговые дни и часы, аукционах открытия и т.п.). Для фильтрации цен у объектов индикаторов существуют '),s("code",[t._v("TradingDays")]),t._v(" и "),s("code",[t._v("schedule")]),t._v(", "),s("code",[t._v("TradingDays")]),t._v(" - это фильтр по дням, а "),s("code",[t._v("schedule")]),t._v(" - фильтр по временным интервалам внутри дня (для всех дней "),s("code",[t._v("schedule")]),t._v(" одинаковое).")]),t._v(" "),s("p",[t._v("По умолчанию "),s("code",[t._v("TradingDays")]),t._v(" индикатора - это ссылка на "),s("code",[t._v("TradingDays")]),t._v(" портфеля, в коде которого данный индикатор считается, т.е. при изменении "),s("code",[t._v("TradingDays")]),t._v(" портфеля "),s("code",[t._v("TradingDays")]),t._v(" индикатора тоже будет изменен (это справедливо даже если в портфеле "),s("code",[t._v("TradingDays")]),t._v(" не используется). Если же необходимо\nиспользовать свой "),s("code",[t._v("TradingDays")]),t._v(", то индикатору можно явно указать значение для "),s("code",[t._v("TradingDays")]),t._v(". "),s("code",[t._v("TradingDays")]),t._v(" - это битовая маска торговых дней недели, дни недели занумерованы с нуля, причем нулевой бит (считая справа налево) - это воскресенье, т.е. воскресенье это "),s("code",[t._v("1 << 0")]),t._v(" (где "),s("code",[t._v("<<")]),t._v(" это побитовый сдвиг\nчисла влево), понедельник это "),s("code",[t._v("1 << 1")]),t._v(" и т.д.")]),t._v(" "),s("p",[t._v("По умолчанию "),s("code",[t._v("schedule")]),t._v(" индикатора пуст, это означает, что расписание не задано и фильтрация по времени отсутствует. Если же "),s("code",[t._v("schedule")]),t._v(" не пусто, то это список неперсекающихся временных интервалов (временной интервал - это пара времен, т.е. время начала и время конца, оба времени включительно)\nв которые необходимо рассчитывать значение индекса.")]),t._v(" "),s("h4",{attrs:{id:"_8-8-1-3-объект-indicators-interval",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-8-1-3-объект-indicators-interval"}},[t._v("#")]),t._v(" 8.8.1.3. Объект "),s("code",[t._v("indicators::interval")]),t._v(" "),s("Anchor",{attrs:{ids:["объект-`indicators::interval`"]}})],1),t._v(" "),s("p",[t._v("Конструкторы "),s("code",[t._v("interval")]),t._v(":")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Конструктор")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("interval(day_time b, day_time e)")]),t._v(" "),s("td",[t._v("создать временной интервал c началом во время "),s("code",[t._v("b")]),t._v(" и концом во время "),s("code",[t._v("e")]),t._v(", должно выполняться условие "),s("code",[t._v("b < e")]),t._v(", иначае будет выброшено исключение "),s("code",[t._v("std::invalid_argument")])])])])]),t._v(" "),s("h4",{attrs:{id:"_8-8-1-4-объект-indicators-schedule",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-8-1-4-объект-indicators-schedule"}},[t._v("#")]),t._v(" 8.8.1.4. Объект "),s("code",[t._v("indicators::schedule")]),t._v(" "),s("Anchor",{attrs:{ids:["объект-`indicators::schedule`"]}})],1),t._v(" "),s("p",[t._v("Конструкторы "),s("code",[t._v("schedule")]),t._v(":")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Конструктор")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("schedule()")]),t._v(" "),s("td",[t._v("создать пустое расписание")])]),t._v(" "),s("tr",[s("td",[t._v("schedule(std::vector<interval> sch)")]),t._v(" "),s("td",[t._v("создать расписание, инициализированное списком непересекающихся интервалов, отсортированных по возрастанию, если интервалы пересекаются или не отсорированы по возрастанию, будет выброшено исключение "),s("code",[t._v("std::invalid_argument")])])]),t._v(" "),s("tr",[s("td",[t._v("schedule(const schedule& sch)")]),t._v(" "),s("td",[t._v("конструктор копирования")])])])]),t._v(" "),s("p",[t._v("Методы "),s("code",[t._v("schedule")]),t._v(":")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Метод")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("bool is_in(const day_time& dt) const")]),t._v(" "),s("td",[t._v("проверить находится ли указанное время в одном из интервалов расписания")])])])]),t._v(" "),s("h4",{attrs:{id:"_8-8-1-5-константы",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-8-1-5-константы"}},[t._v("#")]),t._v(" 8.8.1.5. Константы "),s("Anchor",{attrs:{ids:["константы"]}})],1),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Название")]),t._v(" "),s("th",[t._v("Тип")]),t._v(" "),s("th",[t._v("Значение/описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("WD_SUNDAY")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[s("code",[t._v("1 << 0")]),t._v(", воскресенье")])]),t._v(" "),s("tr",[s("td",[t._v("WD_MONDAY")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[s("code",[t._v("1 << 1")]),t._v(", понедельник")])]),t._v(" "),s("tr",[s("td",[t._v("WD_TUESDAY")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[s("code",[t._v("1 << 2")]),t._v(", вторник")])]),t._v(" "),s("tr",[s("td",[t._v("WD_WEDNESDAY")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[s("code",[t._v("1 << 3")]),t._v(", среда")])]),t._v(" "),s("tr",[s("td",[t._v("WD_THURSDAY")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[s("code",[t._v("1 << 4")]),t._v(", четверг")])]),t._v(" "),s("tr",[s("td",[t._v("WD_FRIDAY")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[s("code",[t._v("1 << 5")]),t._v(", пятница")])]),t._v(" "),s("tr",[s("td",[t._v("WD_SATURDAY")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[s("code",[t._v("1 << 6")]),t._v(", суббота")])]),t._v(" "),s("tr",[s("td",[t._v("WHOLE_WEEK")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[s("code",[t._v("WD_SUNDAY | WD_MONDAY | WD_TUESDAY | WD_WEDNESDAY | WD_THURSDAY | WD_FRIDAY | WD_SATURDAY")]),t._v(", торговать всю неделю")])]),t._v(" "),s("tr",[s("td",[t._v("WORK_WEEK")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[s("code",[t._v("WD_MONDAY | WD_TUESDAY | WD_WEDNESDAY | WD_THURSDAY | WD_FRIDAY")]),t._v(", торговать с понедельника по пятницу")])])])]),t._v(" "),s("h3",{attrs:{id:"_8-8-2-простое-скользящее-среднее-sma",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-8-2-простое-скользящее-среднее-sma"}},[t._v("#")]),t._v(" 8.8.2. Простое скользящее среднее ("),s("code",[t._v("SMA")]),t._v(") "),s("Anchor",{attrs:{ids:["простое-скользящее-среднее-(`sma`)"]}})],1),t._v(" "),s("p",[t._v("Рассчитывается по формуле:")]),t._v(" "),s("p",[s("span",{staticClass:"katex-display"},[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("S")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("M")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("A")])],1),s("mi",[t._v("t")])],1),s("mo",[t._v("=")]),s("mfrac",[s("mrow",[s("mn",[t._v("1")])],1),s("mrow",[s("mi",[t._v("n")])],1)],1),s("msubsup",[s("mo",[t._v("∑")]),s("mrow",[s("mi",[t._v("i")]),s("mo",[t._v("=")]),s("mn",[t._v("0")])],1),s("mrow",[s("mi",[t._v("n")]),s("mo",[t._v("−")]),s("mn",[t._v("1")])],1)],1),s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mi",[t._v("i")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mathit{SMA}_t = \\frac{1}{n} \\sum_{i=0}^{n - 1}p_{t-i}\n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"1.8011130000000004em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"3.0787820000000004em","vertical-align":"-1.277669em"}}),s("span",{staticClass:"base displaystyle textstyle uncramped"},[s("span",{},[s("span",{staticClass:"mord displaystyle textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[t._v("M")]),s("span",{staticClass:"mord mathit"},[t._v("A")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),s("span",{staticClass:"mfrac"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.686em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle cramped"},[s("span",{staticClass:"mord textstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])])]),s("span",{staticStyle:{top:"-0.22999999999999998em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),s("span",{staticStyle:{top:"-0.677em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle uncramped"},[s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),s("span",{staticClass:"mop op-limits"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"1.1776689999999999em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mord mathrm"},[t._v("0")])])])]),s("span",{staticStyle:{top:"-0.000005000000000143778em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",[s("span",{staticClass:"op-symbol large-op mop"},[t._v("∑")])])]),s("span",{staticStyle:{top:"-1.2500050000000003em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[s("span",{staticClass:"mord scriptstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])])])]),t._v(" "),s("p",[t._v("где "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("S")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("M")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("A")])],1),s("mi",[t._v("t")])],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mathit{SMA}_t")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{},[s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[t._v("M")]),s("span",{staticClass:"mord mathit"},[t._v("A")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" - значение искомой величины в момент времени "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("t")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("t")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.61508em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.61508em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])])]),t._v(";")]),t._v(" "),s("p",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mi",[t._v("i")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_{t-i}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.638891em","vertical-align":"-0.208331em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" - значение исходной функции (цены) в момент времени "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mi",[t._v("i")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("t-i")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.65952em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.74285em","vertical-align":"-0.08333em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),t._v(";")]),t._v(" "),s("p",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("n")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])])]),t._v(" - количество значений исходной функции (цены) для расчета искомой величины ("),s("code",[t._v("SMA")]),t._v(").")]),t._v(" "),s("p",[t._v("Конструкторы "),s("code",[t._v("SMA")]),t._v(":")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Конструктор")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("SMA()")]),t._v(" "),s("td",[t._v("создать объект с пустым раписанием и с "),s("code",[t._v("TradingDays")]),t._v(" портфеля")])]),t._v(" "),s("tr",[s("td",[t._v("SMA(std::vector<interval> sch)")]),t._v(" "),s("td",[t._v("создать объект c раписанием и с "),s("code",[t._v("TradingDays")]),t._v(" портфеля")])]),t._v(" "),s("tr",[s("td",[t._v("SMA(schedule sch)")]),t._v(" "),s("td",[t._v("создать объект c раписанием и с "),s("code",[t._v("TradingDays")]),t._v(" портфеля")])])])]),t._v(" "),s("p",[t._v("Методы "),s("code",[t._v("SMA")]),t._v(":")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Метод")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("size_t length() const")]),t._v(" "),s("td",[t._v("Получить количество элементов для расчета (парметр "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("n")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])])]),t._v(" из формулы)")])]),t._v(" "),s("tr",[s("td",[t._v("void set_length(size_t n)")]),t._v(" "),s("td",[t._v("Задать количество элементов для расчета, значение данного параметра должно быть целым числом из отрезка "),s("code",[t._v("[1, 10000]")]),t._v(" (значение по умолчания 10), в противном случае будет выброшено исключение "),s("code",[t._v("std::invalid_argument")])])]),t._v(" "),s("tr",[s("td",[t._v("size_t timeframe() const")]),t._v(" "),s("td",[t._v("Получить тайм-фрейм расчетов, т.е. с какой периодичностью получать "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("i")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_{i}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])])])]),t._v(" "),s("tr",[s("td",[t._v("void set_timeframe(size_t timeframe)")]),t._v(" "),s("td",[t._v("Задать тайм-фрейм для расчетов (в секундах), значение данного параметра должно быть целым числом из отрезка "),s("code",[t._v("[1, 86400]")]),t._v(" (значение по умолчанию 1 секунда), в противном случае будет выброшено исключение "),s("code",[t._v("std::invalid_argument")]),t._v(". При изменении таймфрейма накопленная для расчетов очередь значений очищается")])]),t._v(" "),s("tr",[s("td",[t._v("int trading_days() const")]),t._v(" "),s("td",[t._v("Получить "),s("code",[t._v("TradingDays")]),t._v(" индикатора")])]),t._v(" "),s("tr",[s("td",[t._v("void set_trading_days(int trading_days)")]),t._v(" "),s("td",[t._v("Задать "),s("code",[t._v("TradingDays")]),t._v(", значение данного параметра должно быть целым числом из отрезка "),s("code",[t._v("[0, 127]")]),t._v(", в противном случае будет выброшено исключение "),s("code",[t._v("std::invalid_argument")])])]),t._v(" "),s("tr",[s("td",[t._v("bool update(double p)")]),t._v(" "),s("td",[t._v("Добавить новое значение "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("i")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_{i}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" для расчета. Если тайм-фрейм истек, то новое значение будет добавлено и функция вернет "),s("code",[t._v("true")]),t._v(", иначе "),s("code",[t._v("false")])])]),t._v(" "),s("tr",[s("td",[t._v("double value() const")]),t._v(" "),s("td",[t._v("Получить текущее значение индикатора. Если список элементов для расчета индикатора пуст, то будет выброшено исключение "),s("code",[t._v("std::out_of_range")])])]),t._v(" "),s("tr",[s("td",[t._v("void clear()")]),t._v(" "),s("td",[t._v("Очистить список элементов по которым считается значение индикатора")])]),t._v(" "),s("tr",[s("td",[t._v("bool empty()")]),t._v(" "),s("td",[t._v("Проверить на пустоту список элементов по которым считается значение индикатора")])]),t._v(" "),s("tr",[s("td",[t._v("size_t size()")]),t._v(" "),s("td",[t._v("Получить размер списка элементов по которым считается значение индикатора")])]),t._v(" "),s("tr",[s("td",[t._v("void shift(double p)")]),t._v(" "),s("td",[t._v("Прибавить заданное значение ко всем элементам списка по которым считается значение индикатора и пересчитать значение индикатора по новым значениям")])])])]),t._v(" "),s("h3",{attrs:{id:"_8-8-3-экспоненциальное-скользящее-среднее-ema",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-8-3-экспоненциальное-скользящее-среднее-ema"}},[t._v("#")]),t._v(" 8.8.3. Экспоненциальное скользящее среднее ("),s("code",[t._v("EMA")]),t._v(") "),s("Anchor",{attrs:{ids:["экспоненциальное-скользящее-среднее-(`ema`)"]}})],1),t._v(" "),s("p",[t._v("Рассчитывается по формуле:")]),t._v(" "),s("p",[s("span",{staticClass:"katex-display"},[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("E")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("M")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("A")])],1),s("mi",[t._v("t")])],1),s("mo",[t._v("=")]),s("mfrac",[s("mrow",[s("mn",[t._v("2")])],1),s("mrow",[s("mi",[t._v("n")]),s("mo",[t._v("+")]),s("mn",[t._v("1")])],1)],1),s("mo",[t._v("(")]),s("msub",[s("mi",[t._v("p")]),s("mi",[t._v("t")])],1),s("mo",[t._v("−")]),s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("E")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("M")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("A")])],1),s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mn",[t._v("1")])],1)],1),s("mo",[t._v(")")]),s("mo",[t._v("+")]),s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("E")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("M")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("A")])],1),s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mn",[t._v("1")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mathit{EMA}_t = \\frac{2}{n + 1} (p_t - \\mathit{EMA}_{t-1}) + \\mathit{EMA}_{t-1}\n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"1.32144em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"2.09077em","vertical-align":"-0.7693300000000001em"}}),s("span",{staticClass:"base displaystyle textstyle uncramped"},[s("span",{},[s("span",{staticClass:"mord displaystyle textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[t._v("M")]),s("span",{staticClass:"mord mathit"},[t._v("A")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),s("span",{staticClass:"mfrac"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.686em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle cramped"},[s("span",{staticClass:"mord textstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")]),s("span",{staticClass:"mbin"},[t._v("+")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticStyle:{top:"-0.22999999999999998em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),s("span",{staticStyle:{top:"-0.677em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle uncramped"},[s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord mathrm"},[t._v("2")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),s("span",{staticClass:"mopen"},[t._v("(")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{},[s("span",{staticClass:"mord displaystyle textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[t._v("M")]),s("span",{staticClass:"mord mathit"},[t._v("A")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mclose"},[t._v(")")]),s("span",{staticClass:"mbin"},[t._v("+")]),s("span",{},[s("span",{staticClass:"mord displaystyle textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[t._v("M")]),s("span",{staticClass:"mord mathit"},[t._v("A")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])])])]),t._v(" "),s("p",[t._v("где "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("E")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("M")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("A")])],1),s("mi",[t._v("t")])],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mathit{EMA}_t")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{},[s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[t._v("M")]),s("span",{staticClass:"mord mathit"},[t._v("A")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" - значение искомой величины в момент времени "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("t")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("t")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.61508em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.61508em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])])]),t._v(";")]),t._v(" "),s("p",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("E")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("M")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("A")])],1),s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mn",[t._v("1")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mathit{EMA}_{t-1}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.891661em","vertical-align":"-0.208331em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{},[s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[t._v("M")]),s("span",{staticClass:"mord mathit"},[t._v("A")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" - значение искомой величины в предыдущий момент времени, т.е. в момент времени "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mn",[t._v("1")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("t-1")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.64444em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),t._v(";")]),t._v(" "),s("p",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("t")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_{t}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" - значение исходной функции (цены) в момент времени "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("t")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("t")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.61508em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.61508em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])])]),t._v(";")]),t._v(" "),s("p",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("n")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])])]),t._v(" - количество значений исходной функции (цены) для расчета искомой величины ("),s("code",[t._v("EMA")]),t._v(").")]),t._v(" "),s("p",[t._v("Конструкторы "),s("code",[t._v("EMA")]),t._v(":")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Конструктор")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("EMA()")]),t._v(" "),s("td",[t._v("создать объект с пустым раписанием и с "),s("code",[t._v("TradingDays")]),t._v(" портфеля")])]),t._v(" "),s("tr",[s("td",[t._v("EMA(std::vector<interval> sch)")]),t._v(" "),s("td",[t._v("создать объект c раписанием и с "),s("code",[t._v("TradingDays")]),t._v(" портфеля")])]),t._v(" "),s("tr",[s("td",[t._v("EMA(schedule sch)")]),t._v(" "),s("td",[t._v("создать объект c раписанием и с "),s("code",[t._v("TradingDays")]),t._v(" портфеля")])])])]),t._v(" "),s("p",[t._v("Методы "),s("code",[t._v("EMA")]),t._v(":")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Метод")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("size_t length() const")]),t._v(" "),s("td",[t._v("Получить количество элементов для расчета (парметр "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("n")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])])]),t._v(" из формулы)")])]),t._v(" "),s("tr",[s("td",[t._v("void set_length(size_t n)")]),t._v(" "),s("td",[t._v("Задать количество элементов для расчета, значение данного параметра должно быть целым числом из отрезка "),s("code",[t._v("[1, 10000]")]),t._v(" (значение по умолчания 10), в противном случае будет выброшено исключение "),s("code",[t._v("std::invalid_argument")])])]),t._v(" "),s("tr",[s("td",[t._v("size_t timeframe() const")]),t._v(" "),s("td",[t._v("Получить тайм-фрейм расчетов, т.е. с какой периодичностью получать "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("i")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_{i}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])])])]),t._v(" "),s("tr",[s("td",[t._v("void set_timeframe(size_t timeframe)")]),t._v(" "),s("td",[t._v("Задать тайм-фрейм для расчетов (в секундах), значение данного параметра должно быть целым числом из отрезка "),s("code",[t._v("[1, 86400]")]),t._v(" (значение по умолчанию 1 секунда), в противном случае будет выброшено исключение "),s("code",[t._v("std::invalid_argument")]),t._v(". При изменении таймфрейма накопленная для расчетов очередь значений очищается")])]),t._v(" "),s("tr",[s("td",[t._v("int trading_days() const")]),t._v(" "),s("td",[t._v("Получить "),s("code",[t._v("TradingDays")]),t._v(" индикатора")])]),t._v(" "),s("tr",[s("td",[t._v("void set_trading_days(int trading_days)")]),t._v(" "),s("td",[t._v("Задать "),s("code",[t._v("TradingDays")]),t._v(", значение данного параметра должно быть целым числом из отрезка "),s("code",[t._v("[0, 127]")]),t._v(", в противном случае будет выброшено исключение "),s("code",[t._v("std::invalid_argument")])])]),t._v(" "),s("tr",[s("td",[t._v("bool update(double p)")]),t._v(" "),s("td",[t._v("Добавить новое значение "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("i")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_{i}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" для расчета. Если тайм-фрейм истек, то новое значение будет добавлено и функция вернет "),s("code",[t._v("true")]),t._v(", иначе "),s("code",[t._v("false")])])]),t._v(" "),s("tr",[s("td",[t._v("double value() const")]),t._v(" "),s("td",[t._v("Получить текущее значение индикатора. Если список элементов для расчета индикатора пуст, то будет выброшено исключение "),s("code",[t._v("std::out_of_range")])])]),t._v(" "),s("tr",[s("td",[t._v("void clear()")]),t._v(" "),s("td",[t._v("Очистить список элементов по которым считается значение индикатора")])]),t._v(" "),s("tr",[s("td",[t._v("bool empty()")]),t._v(" "),s("td",[t._v("Проверить на пустоту список элементов по которым считается значение индикатора")])]),t._v(" "),s("tr",[s("td",[t._v("size_t size()")]),t._v(" "),s("td",[t._v("Получить размер списка элементов по которым считается значение индикатора")])]),t._v(" "),s("tr",[s("td",[t._v("void shift(double p)")]),t._v(" "),s("td",[t._v("Прибавить заданное значение ко всем элементам списка по которым считается значение индикатора и пересчитать значение индикатора по новым значениям")])])])]),t._v(" "),s("h3",{attrs:{id:"_8-8-4-максимум-на-отрезке-max",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-8-4-максимум-на-отрезке-max"}},[t._v("#")]),t._v(" 8.8.4. Максимум на отрезке ("),s("code",[t._v("Max")]),t._v(") "),s("Anchor",{attrs:{ids:["максимум-на-отрезке-(`max`)"]}})],1),t._v(" "),s("p",[t._v("Рассчитывается по формуле:")]),t._v(" "),s("p",[s("span",{staticClass:"katex-display"},[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("M")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("a")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("x")])],1),s("mi",[t._v("t")])],1),s("mo",[t._v("=")]),s("mi",[t._v("max")]),s("mo",[t._v("(")]),s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("t")])],1)],1),s("mo",{attrs:{separator:"true"}},[t._v(",")]),s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mn",[t._v("1")])],1)],1),s("mo",{attrs:{separator:"true"}},[t._v(",")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),s("mo",{attrs:{separator:"true"}},[t._v(",")]),s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mi",[t._v("n")]),s("mo",[t._v("+")]),s("mn",[t._v("1")])],1)],1),s("mo",[t._v(")")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mathit{Max}_t = \\max(p_{t}, p_{t-1}, ... , p_{t-n+1})\n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),s("span",{staticClass:"base displaystyle textstyle uncramped"},[s("span",{},[s("span",{staticClass:"mord displaystyle textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[t._v("M")]),s("span",{staticClass:"mord mathit"},[t._v("a")]),s("span",{staticClass:"mord mathit"},[t._v("x")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mop"},[t._v("max")]),s("span",{staticClass:"mopen"},[t._v("(")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mpunct"},[t._v(",")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mpunct"},[t._v(",")]),s("span",{staticClass:"mord mathrm"},[t._v(".")]),s("span",{staticClass:"mord mathrm"},[t._v(".")]),s("span",{staticClass:"mord mathrm"},[t._v(".")]),s("span",{staticClass:"mpunct"},[t._v(",")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathit"},[t._v("n")]),s("span",{staticClass:"mbin"},[t._v("+")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mclose"},[t._v(")")])])])])])]),t._v(" "),s("p",[t._v("где "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("M")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("a")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("x")])],1),s("mi",[t._v("t")])],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mathit{Max}_t")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{},[s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[t._v("M")]),s("span",{staticClass:"mord mathit"},[t._v("a")]),s("span",{staticClass:"mord mathit"},[t._v("x")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" - значение искомой величины в момент времени "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("t")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("t")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.61508em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.61508em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])])]),t._v(";")]),t._v(" "),s("p",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("t")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_{t}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" - значение исходной функции (цены) в момент времени "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("t")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("t")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.61508em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.61508em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])])]),t._v(";")]),t._v(" "),s("p",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("i")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_{i}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" - значение исходной функции (цены) в момент времени "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("i")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("i")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.65952em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.65952em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),t._v(";")]),t._v(" "),s("p",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("n")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])])]),t._v(" - количество значений исходной функции (цены) для расчета искомой величины ("),s("code",[t._v("Max")]),t._v(").")]),t._v(" "),s("p",[t._v("Конструкторы "),s("code",[t._v("Max")]),t._v(":")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Конструктор")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Max()")]),t._v(" "),s("td",[t._v("создать объект с пустым раписанием и с "),s("code",[t._v("TradingDays")]),t._v(" портфеля")])]),t._v(" "),s("tr",[s("td",[t._v("Max(std::vector<interval> sch)")]),t._v(" "),s("td",[t._v("создать объект c раписанием и с "),s("code",[t._v("TradingDays")]),t._v(" портфеля")])]),t._v(" "),s("tr",[s("td",[t._v("Max(schedule sch)")]),t._v(" "),s("td",[t._v("создать объект c раписанием и с "),s("code",[t._v("TradingDays")]),t._v(" портфеля")])])])]),t._v(" "),s("p",[t._v("Методы "),s("code",[t._v("Max")]),t._v(":")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Метод")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("size_t length() const")]),t._v(" "),s("td",[t._v("Получить количество элементов для расчета (парметр "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("n")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])])]),t._v(" из формулы)")])]),t._v(" "),s("tr",[s("td",[t._v("void set_length(size_t n)")]),t._v(" "),s("td",[t._v("Задать количество элементов для расчета, значение данного параметра должно быть целым числом из отрезка "),s("code",[t._v("[1, 10000]")]),t._v(" (значение по умолчания 10), в противном случае будет выброшено исключение "),s("code",[t._v("std::invalid_argument")])])]),t._v(" "),s("tr",[s("td",[t._v("size_t timeframe() const")]),t._v(" "),s("td",[t._v("Получить тайм-фрейм расчетов, т.е. с какой периодичностью получать "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("i")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_{i}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])])])]),t._v(" "),s("tr",[s("td",[t._v("void set_timeframe(size_t timeframe)")]),t._v(" "),s("td",[t._v("Задать тайм-фрейм для расчетов (в секундах), значение данного параметра должно быть целым числом из отрезка "),s("code",[t._v("[1, 86400]")]),t._v(" (значение по умолчанию 1 секунда), в противном случае будет выброшено исключение "),s("code",[t._v("std::invalid_argument")]),t._v(". При изменении таймфрейма накопленная для расчетов очередь значений очищается")])]),t._v(" "),s("tr",[s("td",[t._v("int trading_days() const")]),t._v(" "),s("td",[t._v("Получить "),s("code",[t._v("TradingDays")]),t._v(" индикатора")])]),t._v(" "),s("tr",[s("td",[t._v("void set_trading_days(int trading_days)")]),t._v(" "),s("td",[t._v("Задать "),s("code",[t._v("TradingDays")]),t._v(", значение данного параметра должно быть целым числом из отрезка "),s("code",[t._v("[0, 127]")]),t._v(", в противном случае будет выброшено исключение "),s("code",[t._v("std::invalid_argument")])])]),t._v(" "),s("tr",[s("td",[t._v("bool update(double p)")]),t._v(" "),s("td",[t._v("Добавить новое значение "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("i")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_{i}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" для расчета. Если тайм-фрейм истек, то новое значение будет добавлено и функция вернет "),s("code",[t._v("true")]),t._v(", иначе "),s("code",[t._v("false")])])]),t._v(" "),s("tr",[s("td",[t._v("double value() const")]),t._v(" "),s("td",[t._v("Получить текущее значение индикатора. Если список элементов для расчета индикатора пуст, то будет выброшено исключение "),s("code",[t._v("std::out_of_range")])])]),t._v(" "),s("tr",[s("td",[t._v("void clear()")]),t._v(" "),s("td",[t._v("Очистить список элементов по которым считается значение индикатора")])]),t._v(" "),s("tr",[s("td",[t._v("bool empty()")]),t._v(" "),s("td",[t._v("Проверить на пустоту список элементов по которым считается значение индикатора")])]),t._v(" "),s("tr",[s("td",[t._v("size_t size()")]),t._v(" "),s("td",[t._v("Получить размер списка элементов по которым считается значение индикатора")])]),t._v(" "),s("tr",[s("td",[t._v("void shift(double p)")]),t._v(" "),s("td",[t._v("Прибавить заданное значение ко всем элементам списка по которым считается значение индикатора и пересчитать значение индикатора по новым значениям")])])])]),t._v(" "),s("h3",{attrs:{id:"_8-8-5-минимум-на-отрезке-min",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-8-5-минимум-на-отрезке-min"}},[t._v("#")]),t._v(" 8.8.5. Минимум на отрезке ("),s("code",[t._v("Min")]),t._v(") "),s("Anchor",{attrs:{ids:["минимум-на-отрезке-(`min`)"]}})],1),t._v(" "),s("p",[t._v("Рассчитывается по формуле:")]),t._v(" "),s("p",[s("span",{staticClass:"katex-display"},[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("M")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("i")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("n")])],1),s("mi",[t._v("t")])],1),s("mo",[t._v("=")]),s("mi",[t._v("min")]),s("mo",[t._v("(")]),s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("t")])],1)],1),s("mo",{attrs:{separator:"true"}},[t._v(",")]),s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mn",[t._v("1")])],1)],1),s("mo",{attrs:{separator:"true"}},[t._v(",")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),s("mo",{attrs:{separator:"true"}},[t._v(",")]),s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mi",[t._v("n")]),s("mo",[t._v("+")]),s("mn",[t._v("1")])],1)],1),s("mo",[t._v(")")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mathit{Min}_t = \\min(p_{t}, p_{t-1}, ... , p_{t-n+1})\n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),s("span",{staticClass:"base displaystyle textstyle uncramped"},[s("span",{},[s("span",{staticClass:"mord displaystyle textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[t._v("M")]),s("span",{staticClass:"mord mathit"},[t._v("i")]),s("span",{staticClass:"mord mathit"},[t._v("n")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mop"},[t._v("min")]),s("span",{staticClass:"mopen"},[t._v("(")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mpunct"},[t._v(",")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mpunct"},[t._v(",")]),s("span",{staticClass:"mord mathrm"},[t._v(".")]),s("span",{staticClass:"mord mathrm"},[t._v(".")]),s("span",{staticClass:"mord mathrm"},[t._v(".")]),s("span",{staticClass:"mpunct"},[t._v(",")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathit"},[t._v("n")]),s("span",{staticClass:"mbin"},[t._v("+")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mclose"},[t._v(")")])])])])])]),t._v(" "),s("p",[t._v("где "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("M")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("i")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("n")])],1),s("mi",[t._v("t")])],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mathit{Min}_t")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{},[s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[t._v("M")]),s("span",{staticClass:"mord mathit"},[t._v("i")]),s("span",{staticClass:"mord mathit"},[t._v("n")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" - значение искомой величины в момент времени "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("t")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("t")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.61508em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.61508em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])])]),t._v(";")]),t._v(" "),s("p",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("t")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_{t}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" - значение исходной функции (цены) в момент времени "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("t")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("t")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.61508em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.61508em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])])]),t._v(";")]),t._v(" "),s("p",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("n")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])])]),t._v(" - количество значений исходной функции (цены) для расчета искомой величины ("),s("code",[t._v("Min")]),t._v(").")]),t._v(" "),s("p",[t._v("Конструкторы "),s("code",[t._v("Min")]),t._v(":")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Конструктор")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Min()")]),t._v(" "),s("td",[t._v("создать объект с пустым раписанием и с "),s("code",[t._v("TradingDays")]),t._v(" портфеля")])]),t._v(" "),s("tr",[s("td",[t._v("Min(std::vector<interval> sch)")]),t._v(" "),s("td",[t._v("создать объект c раписанием и с "),s("code",[t._v("TradingDays")]),t._v(" портфеля")])]),t._v(" "),s("tr",[s("td",[t._v("Min(schedule sch)")]),t._v(" "),s("td",[t._v("создать объект c раписанием и с "),s("code",[t._v("TradingDays")]),t._v(" портфеля")])])])]),t._v(" "),s("p",[t._v("Методы "),s("code",[t._v("Min")]),t._v(":")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Метод")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("size_t length() const")]),t._v(" "),s("td",[t._v("Получить количество элементов для расчета (парметр "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("n")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])])]),t._v(" из формулы)")])]),t._v(" "),s("tr",[s("td",[t._v("void set_length(size_t n)")]),t._v(" "),s("td",[t._v("Задать количество элементов для расчета, значение данного параметра должно быть целым числом из отрезка "),s("code",[t._v("[1, 10000]")]),t._v(" (значение по умолчания 10), в противном случае будет выброшено исключение "),s("code",[t._v("std::invalid_argument")])])]),t._v(" "),s("tr",[s("td",[t._v("size_t timeframe() const")]),t._v(" "),s("td",[t._v("Получить тайм-фрейм расчетов, т.е. с какой периодичностью получать "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("i")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_{i}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])])])]),t._v(" "),s("tr",[s("td",[t._v("void set_timeframe(size_t timeframe)")]),t._v(" "),s("td",[t._v("Задать тайм-фрейм для расчетов (в секундах), значение данного параметра должно быть целым числом из отрезка "),s("code",[t._v("[1, 86400]")]),t._v(" (значение по умолчанию 1 секунда), в противном случае будет выброшено исключение "),s("code",[t._v("std::invalid_argument")]),t._v(". При изменении таймфрейма накопленная для расчетов очередь значений очищается")])]),t._v(" "),s("tr",[s("td",[t._v("int trading_days() const")]),t._v(" "),s("td",[t._v("Получить "),s("code",[t._v("TradingDays")]),t._v(" индикатора")])]),t._v(" "),s("tr",[s("td",[t._v("void set_trading_days(int trading_days)")]),t._v(" "),s("td",[t._v("Задать "),s("code",[t._v("TradingDays")]),t._v(", значение данного параметра должно быть целым числом из отрезка "),s("code",[t._v("[0, 127]")]),t._v(", в противном случае будет выброшено исключение "),s("code",[t._v("std::invalid_argument")])])]),t._v(" "),s("tr",[s("td",[t._v("bool update(double p)")]),t._v(" "),s("td",[t._v("Добавить новое значение "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("i")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_{i}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" для расчета. Если тайм-фрейм истек, то новое значение будет добавлено и функция вернет "),s("code",[t._v("true")]),t._v(", иначе "),s("code",[t._v("false")])])]),t._v(" "),s("tr",[s("td",[t._v("double value() const")]),t._v(" "),s("td",[t._v("Получить текущее значение индикатора. Если список элементов для расчета индикатора пуст, то будет выброшено исключение "),s("code",[t._v("std::out_of_range")])])]),t._v(" "),s("tr",[s("td",[t._v("void clear()")]),t._v(" "),s("td",[t._v("Очистить список элементов по которым считается значение индикатора")])]),t._v(" "),s("tr",[s("td",[t._v("bool empty()")]),t._v(" "),s("td",[t._v("Проверить на пустоту список элементов по которым считается значение индикатора")])]),t._v(" "),s("tr",[s("td",[t._v("size_t size()")]),t._v(" "),s("td",[t._v("Получить размер списка элементов по которым считается значение индикатора")])]),t._v(" "),s("tr",[s("td",[t._v("void shift(double p)")]),t._v(" "),s("td",[t._v("Прибавить заданное значение ко всем элементам списка по которым считается значение индикатора и пересчитать значение индикатора по новым значениям")])])])]),t._v(" "),s("h3",{attrs:{id:"_8-8-6-дисперсия-var",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-8-6-дисперсия-var"}},[t._v("#")]),t._v(" 8.8.6. Дисперсия ("),s("code",[t._v("Var")]),t._v(") "),s("Anchor",{attrs:{ids:["дисперсия-(`var`)"]}})],1),t._v(" "),s("p",[t._v("Рассчитывается по формуле:")]),t._v(" "),s("p",[s("span",{staticClass:"katex-display"},[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("V")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("a")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("r")])],1),s("mi",[t._v("t")])],1),s("mo",[t._v("=")]),s("mfrac",[s("mrow",[s("mn",[t._v("1")])],1),s("mrow",[s("mi",[t._v("n")])],1)],1),s("msubsup",[s("mo",[t._v("∑")]),s("mrow",[s("mi",[t._v("i")]),s("mo",[t._v("=")]),s("mn",[t._v("0")])],1),s("mrow",[s("mi",[t._v("n")]),s("mo",[t._v("−")]),s("mn",[t._v("1")])],1)],1),s("mrow",[s("msup",[s("mrow",[s("mo",{attrs:{fence:"true"}},[t._v("(")]),s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mi",[t._v("i")])],1)],1),s("mo",[t._v("−")]),s("mover",{attrs:{accent:"true"}},[s("mrow",[s("mi",[t._v("p")])],1),s("mo",{attrs:{stretchy:"true"}},[t._v("‾")])],1),s("mo",{attrs:{fence:"true"}},[t._v(")")])],1),s("mn",[t._v("2")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mathit{Var}_t = \\frac{1}{n}\\sum_{i=0}^{n-1}{\\left( p_{t - i} - \\overline{p} \\right) ^2}\n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"1.8011130000000004em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"3.0787820000000004em","vertical-align":"-1.277669em"}}),s("span",{staticClass:"base displaystyle textstyle uncramped"},[s("span",{},[s("span",{staticClass:"mord displaystyle textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.22222em"}},[t._v("V")]),s("span",{staticClass:"mord mathit"},[t._v("a")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),s("span",{staticClass:"mfrac"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.686em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle cramped"},[s("span",{staticClass:"mord textstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])])]),s("span",{staticStyle:{top:"-0.22999999999999998em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),s("span",{staticStyle:{top:"-0.677em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle uncramped"},[s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),s("span",{staticClass:"mop op-limits"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"1.1776689999999999em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mord mathrm"},[t._v("0")])])])]),s("span",{staticStyle:{top:"-0.000005000000000143778em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",[s("span",{staticClass:"op-symbol large-op mop"},[t._v("∑")])])]),s("span",{staticStyle:{top:"-1.2500050000000003em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[s("span",{staticClass:"mord scriptstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mord displaystyle textstyle uncramped"},[s("span",{staticClass:"minner"},[s("span",{staticClass:"minner displaystyle textstyle uncramped"},[s("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v("(")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"overline mord"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),s("span",{staticClass:"mord displaystyle textstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("p")])])]),s("span",{staticStyle:{top:"-0.5505599999999999em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle uncramped overline-line"})]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v(")")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"-0.413em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[s("span",{staticClass:"mord mathrm"},[t._v("2")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])])])])]),t._v(" "),s("p",[t._v("где "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("V")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("a")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("r")])],1),s("mi",[t._v("t")])],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mathit{Var}_t")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{},[s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.22222em"}},[t._v("V")]),s("span",{staticClass:"mord mathit"},[t._v("a")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" - значение искомой величины в момент времени "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("t")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("t")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.61508em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.61508em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])])]),t._v(";")]),t._v(" "),s("p",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mover",{attrs:{accent:"true"}},[s("mrow",[s("mi",[t._v("p")])],1),s("mo",{attrs:{stretchy:"true"}},[t._v("‾")])],1),s("mo",[t._v("=")]),s("mfrac",[s("mrow",[s("mn",[t._v("1")])],1),s("mrow",[s("mi",[t._v("n")])],1)],1),s("msubsup",[s("mo",[t._v("∑")]),s("mrow",[s("mi",[t._v("i")]),s("mo",[t._v("=")]),s("mn",[t._v("0")])],1),s("mrow",[s("mi",[t._v("n")]),s("mo",[t._v("−")]),s("mn",[t._v("1")])],1)],1),s("mrow",[s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mi",[t._v("i")])],1)],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\overline{p} = \\frac{1}{n}\\sum_{i=0}^{n-1}{p_{t - i}}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.854239em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"1.199239em","vertical-align":"-0.345em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"overline mord"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),s("span",{staticClass:"mord textstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("p")])])]),s("span",{staticStyle:{top:"-0.5505599999999999em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle uncramped overline-line"})]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mord reset-textstyle textstyle uncramped"},[s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),s("span",{staticClass:"mfrac"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.345em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])])]),s("span",{staticStyle:{top:"-0.22999999999999998em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),s("span",{staticStyle:{top:"-0.394em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[s("span",{staticClass:"mord scriptstyle uncramped"},[s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),s("span",{staticClass:"mop"},[s("span",{staticClass:"op-symbol small-op mop",staticStyle:{top:"-0.0000050000000000050004em"}},[t._v("∑")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.276864em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mord mathrm"},[t._v("0")])])])]),s("span",{staticStyle:{top:"-0.403131em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[s("span",{staticClass:"mord scriptstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])])]),t._v(";")]),t._v(" "),s("p",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mi",[t._v("i")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_{t-i}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.638891em","vertical-align":"-0.208331em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" - значение исходной функции (цены) в момент времени "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mi",[t._v("i")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("t-i")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.65952em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.74285em","vertical-align":"-0.08333em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),t._v(";")]),t._v(" "),s("p",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("n")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])])]),t._v(" - количество значений исходной функции (цены) для расчета искомой величины ("),s("code",[t._v("Var")]),t._v(").")]),t._v(" "),s("p",[t._v("Конструкторы "),s("code",[t._v("Var")]),t._v(":")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Конструктор")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Var()")]),t._v(" "),s("td",[t._v("создать объект с пустым раписанием и с "),s("code",[t._v("TradingDays")]),t._v(" портфеля")])]),t._v(" "),s("tr",[s("td",[t._v("Var(std::vector<interval> sch)")]),t._v(" "),s("td",[t._v("создать объект c раписанием и с "),s("code",[t._v("TradingDays")]),t._v(" портфеля")])]),t._v(" "),s("tr",[s("td",[t._v("Var(schedule sch)")]),t._v(" "),s("td",[t._v("создать объект c раписанием и с "),s("code",[t._v("TradingDays")]),t._v(" портфеля")])])])]),t._v(" "),s("p",[t._v("Методы "),s("code",[t._v("Var")]),t._v(":")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Метод")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("size_t length() const")]),t._v(" "),s("td",[t._v("Получить количество элементов для расчета (парметр "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("n")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])])]),t._v(" из формулы)")])]),t._v(" "),s("tr",[s("td",[t._v("void set_length(size_t n)")]),t._v(" "),s("td",[t._v("Задать количество элементов для расчета, значение данного параметра должно быть целым числом из отрезка "),s("code",[t._v("[1, 10000]")]),t._v(" (значение по умолчания 10), в противном случае будет выброшено исключение "),s("code",[t._v("std::invalid_argument")])])]),t._v(" "),s("tr",[s("td",[t._v("size_t timeframe() const")]),t._v(" "),s("td",[t._v("Получить тайм-фрейм расчетов, т.е. с какой периодичностью получать "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("i")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_{i}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])])])]),t._v(" "),s("tr",[s("td",[t._v("void set_timeframe(size_t timeframe)")]),t._v(" "),s("td",[t._v("Задать тайм-фрейм для расчетов (в секундах), значение данного параметра должно быть целым числом из отрезка "),s("code",[t._v("[1, 86400]")]),t._v(" (значение по умолчанию 1 секунда), в противном случае будет выброшено исключение "),s("code",[t._v("std::invalid_argument")]),t._v(". При изменении таймфрейма накопленная для расчетов очередь значений очищается")])]),t._v(" "),s("tr",[s("td",[t._v("int trading_days() const")]),t._v(" "),s("td",[t._v("Получить "),s("code",[t._v("TradingDays")]),t._v(" индикатора")])]),t._v(" "),s("tr",[s("td",[t._v("void set_trading_days(int trading_days)")]),t._v(" "),s("td",[t._v("Задать "),s("code",[t._v("TradingDays")]),t._v(", значение данного параметра должно быть целым числом из отрезка "),s("code",[t._v("[0, 127]")]),t._v(", в противном случае будет выброшено исключение "),s("code",[t._v("std::invalid_argument")])])]),t._v(" "),s("tr",[s("td",[t._v("bool update(double p)")]),t._v(" "),s("td",[t._v("Добавить новое значение "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("i")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_{i}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" для расчета. Если тайм-фрейм истек, то новое значение будет добавлено и функция вернет "),s("code",[t._v("true")]),t._v(", иначе "),s("code",[t._v("false")])])]),t._v(" "),s("tr",[s("td",[t._v("double value() const")]),t._v(" "),s("td",[t._v("Получить текущее значение индикатора. Если список элементов для расчета индикатора пуст, то будет выброшено исключение "),s("code",[t._v("std::out_of_range")])])]),t._v(" "),s("tr",[s("td",[t._v("void clear()")]),t._v(" "),s("td",[t._v("Очистить список элементов по которым считается значение индикатора")])]),t._v(" "),s("tr",[s("td",[t._v("bool empty()")]),t._v(" "),s("td",[t._v("Проверить на пустоту список элементов по которым считается значение индикатора")])]),t._v(" "),s("tr",[s("td",[t._v("size_t size()")]),t._v(" "),s("td",[t._v("Получить размер списка элементов по которым считается значение индикатора")])]),t._v(" "),s("tr",[s("td",[t._v("void shift(double p)")]),t._v(" "),s("td",[t._v("Прибавить заданное значение ко всем элементам списка по которым считается значение индикатора и пересчитать значение индикатора по новым значениям")])])])]),t._v(" "),s("h3",{attrs:{id:"_8-8-7-среднеквадратическое-отклонение-stddev",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-8-7-среднеквадратическое-отклонение-stddev"}},[t._v("#")]),t._v(" 8.8.7. Среднеквадратическое отклонение ("),s("code",[t._v("StdDev")]),t._v(") "),s("Anchor",{attrs:{ids:["среднеквадратическое-отклонение-(`stddev`)"]}})],1),t._v(" "),s("p",[t._v("Рассчитывается по формуле:")]),t._v(" "),s("p",[s("span",{staticClass:"katex-display"},[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("S")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("t")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("d")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("D")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("e")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("v")])],1),s("mi",[t._v("t")])],1),s("mo",[t._v("=")]),s("msqrt",[s("mrow",[s("mfrac",[s("mrow",[s("mn",[t._v("1")])],1),s("mrow",[s("mi",[t._v("n")])],1)],1),s("msubsup",[s("mo",[t._v("∑")]),s("mrow",[s("mi",[t._v("i")]),s("mo",[t._v("=")]),s("mn",[t._v("0")])],1),s("mrow",[s("mi",[t._v("n")]),s("mo",[t._v("−")]),s("mn",[t._v("1")])],1)],1),s("mrow",[s("msup",[s("mrow",[s("mo",{attrs:{fence:"true"}},[t._v("(")]),s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mi",[t._v("i")])],1)],1),s("mo",[t._v("−")]),s("mover",{attrs:{accent:"true"}},[s("mrow",[s("mi",[t._v("p")])],1),s("mo",{attrs:{stretchy:"true"}},[t._v("‾")])],1),s("mo",{attrs:{fence:"true"}},[t._v(")")])],1),s("mn",[t._v("2")])],1)],1)],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mathit{StdDev}_t = \\sqrt{\\frac{1}{n}\\sum_{i=0}^{n-1}{\\left( p_{t - i} - \\overline{p} \\right) ^2}}\n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"2.203107em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"3.6550199999999995em","vertical-align":"-1.4519129999999996em"}}),s("span",{staticClass:"base displaystyle textstyle uncramped"},[s("span",{},[s("span",{staticClass:"mord displaystyle textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mord mathit"},[t._v("d")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),s("span",{staticClass:"mord mathit"},[t._v("e")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"sqrt mord"},[s("span",{staticClass:"sqrt-sign",staticStyle:{top:"-0.09811200000000042em"}},[s("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped"},[s("span",{staticClass:"delimsizing mult"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.665005em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"delimsizinginner delim-size4"},[s("span",[t._v("⎷")])])]),s("span",{staticStyle:{top:"-0.24999499999999997em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"delimsizinginner delim-size4"},[s("span",[t._v("")])])]),s("span",{staticStyle:{top:"-0.854995em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"delimsizinginner delim-size4"},[s("span",[t._v("")])])]),s("span",{staticStyle:{top:"-1.459995em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"delimsizinginner delim-size4"},[s("span",[t._v("")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),s("span",{staticClass:"mord displaystyle textstyle cramped"},[s("span",{staticClass:"mord reset-textstyle displaystyle textstyle cramped"},[s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),s("span",{staticClass:"mfrac"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.686em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle cramped"},[s("span",{staticClass:"mord textstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])])]),s("span",{staticStyle:{top:"-0.22999999999999998em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),s("span",{staticStyle:{top:"-0.677em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle cramped"},[s("span",{staticClass:"mord textstyle cramped"},[s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),s("span",{staticClass:"mop op-limits"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"1.1776689999999999em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mord mathrm"},[t._v("0")])])])]),s("span",{staticStyle:{top:"-0.000005000000000143778em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",[s("span",{staticClass:"op-symbol large-op mop"},[t._v("∑")])])]),s("span",{staticStyle:{top:"-1.2500050000000003em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mord displaystyle textstyle cramped"},[s("span",{staticClass:"minner"},[s("span",{staticClass:"minner displaystyle textstyle cramped"},[s("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v("(")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"overline mord"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),s("span",{staticClass:"mord displaystyle textstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("p")])])]),s("span",{staticStyle:{top:"-0.5505599999999999em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle uncramped overline-line"})]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v(")")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"-0.364em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathrm"},[t._v("2")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),s("span",{staticStyle:{top:"-2.123107em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle uncramped sqrt-line"})]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),t._v("​")])])])])])])])]),t._v(" "),s("p",[t._v("где "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("S")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("t")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("d")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("D")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("e")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("v")])],1),s("mi",[t._v("t")])],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mathit{StdDev}_t")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{},[s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mord mathit"},[t._v("d")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),s("span",{staticClass:"mord mathit"},[t._v("e")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" - значение искомой величины в момент времени "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("t")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("t")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.61508em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.61508em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])])]),t._v(";")]),t._v(" "),s("p",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mover",{attrs:{accent:"true"}},[s("mrow",[s("mi",[t._v("p")])],1),s("mo",{attrs:{stretchy:"true"}},[t._v("‾")])],1),s("mo",[t._v("=")]),s("mfrac",[s("mrow",[s("mn",[t._v("1")])],1),s("mrow",[s("mi",[t._v("n")])],1)],1),s("msubsup",[s("mo",[t._v("∑")]),s("mrow",[s("mi",[t._v("i")]),s("mo",[t._v("=")]),s("mn",[t._v("0")])],1),s("mrow",[s("mi",[t._v("n")]),s("mo",[t._v("−")]),s("mn",[t._v("1")])],1)],1),s("mrow",[s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mi",[t._v("i")])],1)],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\overline{p} = \\frac{1}{n}\\sum_{i=0}^{n-1}{p_{t - i}}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.854239em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"1.199239em","vertical-align":"-0.345em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"overline mord"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),s("span",{staticClass:"mord textstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("p")])])]),s("span",{staticStyle:{top:"-0.5505599999999999em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle uncramped overline-line"})]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mord reset-textstyle textstyle uncramped"},[s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),s("span",{staticClass:"mfrac"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.345em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])])]),s("span",{staticStyle:{top:"-0.22999999999999998em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),s("span",{staticStyle:{top:"-0.394em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[s("span",{staticClass:"mord scriptstyle uncramped"},[s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),s("span",{staticClass:"mop"},[s("span",{staticClass:"op-symbol small-op mop",staticStyle:{top:"-0.0000050000000000050004em"}},[t._v("∑")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.276864em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mord mathrm"},[t._v("0")])])])]),s("span",{staticStyle:{top:"-0.403131em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[s("span",{staticClass:"mord scriptstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])])]),t._v(";")]),t._v(" "),s("p",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mi",[t._v("i")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_{t-i}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.638891em","vertical-align":"-0.208331em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" - значение исходной функции (цены) в момент времени "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mi",[t._v("i")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("t-i")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.65952em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.74285em","vertical-align":"-0.08333em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),t._v(";")]),t._v(" "),s("p",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("n")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])])]),t._v(" - количество значений исходной функции (цены) для расчета искомой величины ("),s("code",[t._v("StdDev")]),t._v(").")]),t._v(" "),s("p",[t._v("Конструкторы "),s("code",[t._v("StdDev")]),t._v(":")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Конструктор")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("StdDev()")]),t._v(" "),s("td",[t._v("создать объект с пустым раписанием и с "),s("code",[t._v("TradingDays")]),t._v(" портфеля")])]),t._v(" "),s("tr",[s("td",[t._v("StdDev(std::vector<interval> sch)")]),t._v(" "),s("td",[t._v("создать объект c раписанием и с "),s("code",[t._v("TradingDays")]),t._v(" портфеля")])]),t._v(" "),s("tr",[s("td",[t._v("StdDev(schedule sch)")]),t._v(" "),s("td",[t._v("создать объект c раписанием и с "),s("code",[t._v("TradingDays")]),t._v(" портфеля")])])])]),t._v(" "),s("p",[t._v("Методы "),s("code",[t._v("StdDev")]),t._v(":")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Метод")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("size_t length() const")]),t._v(" "),s("td",[t._v("Получить количество элементов для расчета (парметр "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("n")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])])]),t._v(" из формулы)")])]),t._v(" "),s("tr",[s("td",[t._v("void set_length(size_t n)")]),t._v(" "),s("td",[t._v("Задать количество элементов для расчета, значение данного параметра должно быть целым числом из отрезка "),s("code",[t._v("[1, 10000]")]),t._v(" (значение по умолчания 10), в противном случае будет выброшено исключение "),s("code",[t._v("std::invalid_argument")])])]),t._v(" "),s("tr",[s("td",[t._v("size_t timeframe() const")]),t._v(" "),s("td",[t._v("Получить тайм-фрейм расчетов, т.е. с какой периодичностью получать "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("i")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_{i}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])])])]),t._v(" "),s("tr",[s("td",[t._v("void set_timeframe(size_t timeframe)")]),t._v(" "),s("td",[t._v("Задать тайм-фрейм для расчетов (в секундах), значение данного параметра должно быть целым числом из отрезка "),s("code",[t._v("[1, 86400]")]),t._v(" (значение по умолчанию 1 секунда), в противном случае будет выброшено исключение "),s("code",[t._v("std::invalid_argument")]),t._v(". При изменении таймфрейма накопленная для расчетов очередь значений очищается")])]),t._v(" "),s("tr",[s("td",[t._v("int trading_days() const")]),t._v(" "),s("td",[t._v("Получить "),s("code",[t._v("TradingDays")]),t._v(" индикатора")])]),t._v(" "),s("tr",[s("td",[t._v("void set_trading_days(int trading_days)")]),t._v(" "),s("td",[t._v("Задать "),s("code",[t._v("TradingDays")]),t._v(", значение данного параметра должно быть целым числом из отрезка "),s("code",[t._v("[0, 127]")]),t._v(", в противном случае будет выброшено исключение "),s("code",[t._v("std::invalid_argument")])])]),t._v(" "),s("tr",[s("td",[t._v("bool update(double p)")]),t._v(" "),s("td",[t._v("Добавить новое значение "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("i")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_{i}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" для расчета. Если тайм-фрейм истек, то новое значение будет добавлено и функция вернет "),s("code",[t._v("true")]),t._v(", иначе "),s("code",[t._v("false")])])]),t._v(" "),s("tr",[s("td",[t._v("double value() const")]),t._v(" "),s("td",[t._v("Получить текущее значение индикатора. Если список элементов для расчета индикатора пуст, то будет выброшено исключение "),s("code",[t._v("std::out_of_range")])])]),t._v(" "),s("tr",[s("td",[t._v("void clear()")]),t._v(" "),s("td",[t._v("Очистить список элементов по которым считается значение индикатора")])]),t._v(" "),s("tr",[s("td",[t._v("bool empty()")]),t._v(" "),s("td",[t._v("Проверить на пустоту список элементов по которым считается значение индикатора")])]),t._v(" "),s("tr",[s("td",[t._v("size_t size()")]),t._v(" "),s("td",[t._v("Получить размер списка элементов по которым считается значение индикатора")])]),t._v(" "),s("tr",[s("td",[t._v("void shift(double p)")]),t._v(" "),s("td",[t._v("Прибавить заданное значение ко всем элементам списка по которым считается значение индикатора и пересчитать значение индикатора по новым значениям")])])])]),t._v(" "),s("h3",{attrs:{id:"_8-8-8-линии-боллинджера-bb",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-8-8-линии-боллинджера-bb"}},[t._v("#")]),t._v(" 8.8.8. Линии Боллинджера ("),s("code",[t._v("BB")]),t._v(") "),s("Anchor",{attrs:{ids:["линии-боллинджера-(`bb`)"]}})],1),t._v(" "),s("p",[t._v("Состоит из трех значений, рассчитывается по формуле:")]),t._v(" "),s("p",[s("span",{staticClass:"katex-display"},[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("M")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("L")])],1),s("mi",[t._v("t")])],1),s("mo",[t._v("=")]),s("mfrac",[s("mrow",[s("mn",[t._v("1")])],1),s("mrow",[s("mi",[t._v("n")])],1)],1),s("msubsup",[s("mo",[t._v("∑")]),s("mrow",[s("mi",[t._v("i")]),s("mo",[t._v("=")]),s("mn",[t._v("0")])],1),s("mrow",[s("mi",[t._v("n")]),s("mo",[t._v("−")]),s("mn",[t._v("1")])],1)],1),s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mi",[t._v("i")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mathit{ML}_t = \\frac{1}{n} \\sum_{i=0}^{n - 1}p_{t-i}\n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"1.8011130000000004em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"3.0787820000000004em","vertical-align":"-1.277669em"}}),s("span",{staticClass:"base displaystyle textstyle uncramped"},[s("span",{},[s("span",{staticClass:"mord displaystyle textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[t._v("M")]),s("span",{staticClass:"mord mathit"},[t._v("L")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),s("span",{staticClass:"mfrac"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.686em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle cramped"},[s("span",{staticClass:"mord textstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])])]),s("span",{staticStyle:{top:"-0.22999999999999998em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),s("span",{staticStyle:{top:"-0.677em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle uncramped"},[s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),s("span",{staticClass:"mop op-limits"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"1.1776689999999999em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mord mathrm"},[t._v("0")])])])]),s("span",{staticStyle:{top:"-0.000005000000000143778em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",[s("span",{staticClass:"op-symbol large-op mop"},[t._v("∑")])])]),s("span",{staticStyle:{top:"-1.2500050000000003em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[s("span",{staticClass:"mord scriptstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])])])]),t._v(" "),s("p",[s("span",{staticClass:"katex-display"},[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("T")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("L")])],1),s("mi",[t._v("t")])],1),s("mo",[t._v("=")]),s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("M")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("L")])],1),s("mi",[t._v("t")])],1),s("mo",[t._v("+")]),s("mi",[t._v("d")]),s("mo",[t._v("×")]),s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("S")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("t")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("d")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("D")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("e")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("v")])],1),s("mi",[t._v("t")])],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mathit{TL}_t = \\mathit{ML}_t + d \\times \\mathit{StdDev}_t\n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),s("span",{staticClass:"base displaystyle textstyle uncramped"},[s("span",{},[s("span",{staticClass:"mord displaystyle textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),s("span",{staticClass:"mord mathit"},[t._v("L")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{},[s("span",{staticClass:"mord displaystyle textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[t._v("M")]),s("span",{staticClass:"mord mathit"},[t._v("L")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mbin"},[t._v("+")]),s("span",{staticClass:"mord mathit"},[t._v("d")]),s("span",{staticClass:"mbin"},[t._v("×")]),s("span",{},[s("span",{staticClass:"mord displaystyle textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mord mathit"},[t._v("d")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),s("span",{staticClass:"mord mathit"},[t._v("e")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])])])]),t._v(" "),s("p",[s("span",{staticClass:"katex-display"},[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("B")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("L")])],1),s("mi",[t._v("t")])],1),s("mo",[t._v("=")]),s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("M")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("L")])],1),s("mi",[t._v("t")])],1),s("mo",[t._v("−")]),s("mi",[t._v("d")]),s("mo",[t._v("×")]),s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("S")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("t")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("d")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("D")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("e")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("v")])],1),s("mi",[t._v("t")])],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mathit{BL}_t = \\mathit{ML}_t - d \\times \\mathit{StdDev}_t\n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),s("span",{staticClass:"base displaystyle textstyle uncramped"},[s("span",{},[s("span",{staticClass:"mord displaystyle textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05017em"}},[t._v("B")]),s("span",{staticClass:"mord mathit"},[t._v("L")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{},[s("span",{staticClass:"mord displaystyle textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[t._v("M")]),s("span",{staticClass:"mord mathit"},[t._v("L")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathit"},[t._v("d")]),s("span",{staticClass:"mbin"},[t._v("×")]),s("span",{},[s("span",{staticClass:"mord displaystyle textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mord mathit"},[t._v("d")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),s("span",{staticClass:"mord mathit"},[t._v("e")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])])])]),t._v(" "),s("p",[t._v("где "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("M")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("L")])],1),s("mi",[t._v("t")])],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mathit{ML}_t")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{},[s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[t._v("M")]),s("span",{staticClass:"mord mathit"},[t._v("L")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(", "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("T")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("L")])],1),s("mi",[t._v("t")])],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mathit{TL}_t")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{},[s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),s("span",{staticClass:"mord mathit"},[t._v("L")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(", "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("B")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("L")])],1),s("mi",[t._v("t")])],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mathit{BL}_t")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{},[s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05017em"}},[t._v("B")]),s("span",{staticClass:"mord mathit"},[t._v("L")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" - значения искомых величин в момент времени "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("t")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("t")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.61508em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.61508em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])])]),t._v(";")]),t._v(" "),s("p",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("S")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("t")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("d")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("D")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("e")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("v")])],1),s("mi",[t._v("t")])],1),s("mo",[t._v("=")]),s("msqrt",[s("mrow",[s("mfrac",[s("mrow",[s("mn",[t._v("1")])],1),s("mrow",[s("mi",[t._v("n")])],1)],1),s("msubsup",[s("mo",[t._v("∑")]),s("mrow",[s("mi",[t._v("i")]),s("mo",[t._v("=")]),s("mn",[t._v("0")])],1),s("mrow",[s("mi",[t._v("n")]),s("mo",[t._v("−")]),s("mn",[t._v("1")])],1)],1),s("mrow",[s("msup",[s("mrow",[s("mo",{attrs:{fence:"true"}},[t._v("(")]),s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mi",[t._v("i")])],1)],1),s("mo",[t._v("−")]),s("mover",{attrs:{accent:"true"}},[s("mrow",[s("mi",[t._v("p")])],1),s("mo",{attrs:{stretchy:"true"}},[t._v("‾")])],1),s("mo",{attrs:{fence:"true"}},[t._v(")")])],1),s("mn",[t._v("2")])],1)],1)],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mathit{StdDev}_t = \\sqrt{\\frac{1}{n}\\sum_{i=0}^{n-1}{\\left( p_{t - i} - \\overline{p} \\right) ^2}}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"1.2396295em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"1.84002em","vertical-align":"-0.6003905em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{},[s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mord mathit"},[t._v("d")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),s("span",{staticClass:"mord mathit"},[t._v("e")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"sqrt mord"},[s("span",{staticClass:"sqrt-sign",staticStyle:{top:"-0.04962949999999999em"}},[s("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped"},[s("span",{staticClass:"delimsizing size2"},[t._v("√")])])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),s("span",{staticClass:"mord textstyle cramped"},[s("span",{staticClass:"mord reset-textstyle textstyle cramped"},[s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),s("span",{staticClass:"mfrac"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.345em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])])]),s("span",{staticStyle:{top:"-0.22999999999999998em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),s("span",{staticStyle:{top:"-0.394em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),s("span",{staticClass:"mop"},[s("span",{staticClass:"op-symbol small-op mop",staticStyle:{top:"-0.0000050000000000050004em"}},[t._v("∑")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.276864em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mord mathrm"},[t._v("0")])])])]),s("span",{staticStyle:{top:"-0.403131em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mord textstyle cramped"},[s("span",{staticClass:"minner"},[s("span",{staticClass:"minner textstyle cramped"},[s("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v("(")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"overline mord"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),s("span",{staticClass:"mord textstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("p")])])]),s("span",{staticStyle:{top:"-0.5505599999999999em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle uncramped overline-line"})]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[t._v(")")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"-0.364em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathrm"},[t._v("2")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),s("span",{staticStyle:{top:"-1.1596294999999999em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle uncramped sqrt-line"})]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(";")]),t._v(" "),s("p",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mover",{attrs:{accent:"true"}},[s("mrow",[s("mi",[t._v("p")])],1),s("mo",{attrs:{stretchy:"true"}},[t._v("‾")])],1),s("mo",[t._v("=")]),s("mfrac",[s("mrow",[s("mn",[t._v("1")])],1),s("mrow",[s("mi",[t._v("n")])],1)],1),s("msubsup",[s("mo",[t._v("∑")]),s("mrow",[s("mi",[t._v("i")]),s("mo",[t._v("=")]),s("mn",[t._v("0")])],1),s("mrow",[s("mi",[t._v("n")]),s("mo",[t._v("−")]),s("mn",[t._v("1")])],1)],1),s("mrow",[s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mi",[t._v("i")])],1)],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\overline{p} = \\frac{1}{n}\\sum_{i=0}^{n-1}{p_{t - i}}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.854239em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"1.199239em","vertical-align":"-0.345em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"overline mord"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),s("span",{staticClass:"mord textstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("p")])])]),s("span",{staticStyle:{top:"-0.5505599999999999em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle uncramped overline-line"})]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"1em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mord reset-textstyle textstyle uncramped"},[s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),s("span",{staticClass:"mfrac"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.345em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])])]),s("span",{staticStyle:{top:"-0.22999999999999998em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),s("span",{staticStyle:{top:"-0.394em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[s("span",{staticClass:"mord scriptstyle uncramped"},[s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),s("span",{staticClass:"mop"},[s("span",{staticClass:"op-symbol small-op mop",staticStyle:{top:"-0.0000050000000000050004em"}},[t._v("∑")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.276864em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mord mathrm"},[t._v("0")])])])]),s("span",{staticStyle:{top:"-0.403131em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[s("span",{staticClass:"mord scriptstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])])]),t._v(";")]),t._v(" "),s("p",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mi",[t._v("i")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_{t-i}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.638891em","vertical-align":"-0.208331em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" - значение исходной функции (цены) в момент времени "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mi",[t._v("i")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("t-i")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.65952em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.74285em","vertical-align":"-0.08333em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),t._v(";")]),t._v(" "),s("p",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("d")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("d")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("d")])])])]),t._v(" - константа;")]),t._v(" "),s("p",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("n")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])])]),t._v(" - количество значений исходной функции (цены) для расчета искомой величины ("),s("code",[t._v("BB")]),t._v(").")]),t._v(" "),s("p",[t._v("Конструкторы "),s("code",[t._v("BB")]),t._v(":")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Конструктор")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("BB()")]),t._v(" "),s("td",[t._v("создать объект с пустым раписанием и с "),s("code",[t._v("TradingDays")]),t._v(" портфеля")])]),t._v(" "),s("tr",[s("td",[t._v("BB(std::vector<interval> sch)")]),t._v(" "),s("td",[t._v("создать объект c раписанием и с "),s("code",[t._v("TradingDays")]),t._v(" портфеля")])]),t._v(" "),s("tr",[s("td",[t._v("BB(schedule sch)")]),t._v(" "),s("td",[t._v("создать объект c раписанием и с "),s("code",[t._v("TradingDays")]),t._v(" портфеля")])])])]),t._v(" "),s("p",[t._v("Методы "),s("code",[t._v("BB")]),t._v(":")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Метод")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("size_t length() const")]),t._v(" "),s("td",[t._v("Получить количество элементов для расчета (парметр "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("n")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])])]),t._v(" из формулы)")])]),t._v(" "),s("tr",[s("td",[t._v("void set_length(size_t n)")]),t._v(" "),s("td",[t._v("Задать количество элементов для расчета, значение данного параметра должно быть целым числом из отрезка "),s("code",[t._v("[1, 10000]")]),t._v(" (значение по умолчания 10), в противном случае будет выброшено исключение "),s("code",[t._v("std::invalid_argument")])])]),t._v(" "),s("tr",[s("td",[t._v("size_t timeframe() const")]),t._v(" "),s("td",[t._v("Получить тайм-фрейм расчетов, т.е. с какой периодичностью получать "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("i")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_{i}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])])])]),t._v(" "),s("tr",[s("td",[t._v("void set_timeframe(size_t timeframe)")]),t._v(" "),s("td",[t._v("Задать тайм-фрейм для расчетов (в секундах), значение данного параметра должно быть целым числом из отрезка "),s("code",[t._v("[1, 86400]")]),t._v(" (значение по умолчанию 1 секунда), в противном случае будет выброшено исключение "),s("code",[t._v("std::invalid_argument")]),t._v(". При изменении таймфрейма накопленная для расчетов очередь значений очищается")])]),t._v(" "),s("tr",[s("td",[t._v("double d() const")]),t._v(" "),s("td",[t._v("Получить "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("d")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("d")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("d")])])])])])]),t._v(" "),s("tr",[s("td",[t._v("void set_d(double d)")]),t._v(" "),s("td",[t._v("Задать "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("d")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("d")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.69444em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("d")])])])]),t._v(", значение данного параметра должно быть дробным числом из отрезка "),s("code",[t._v("[1, 1000]")]),t._v(" (значение по умолчанию 4), в противном случае будет выброшено исключение "),s("code",[t._v("std::invalid_argument")])])]),t._v(" "),s("tr",[s("td",[t._v("int trading_days() const")]),t._v(" "),s("td",[t._v("Получить "),s("code",[t._v("TradingDays")]),t._v(" индикатора")])]),t._v(" "),s("tr",[s("td",[t._v("void set_trading_days(int trading_days)")]),t._v(" "),s("td",[t._v("Задать "),s("code",[t._v("TradingDays")]),t._v(", значение данного параметра должно быть целым числом из отрезка "),s("code",[t._v("[0, 127]")]),t._v(", в противном случае будет выброшено исключение "),s("code",[t._v("std::invalid_argument")])])]),t._v(" "),s("tr",[s("td",[t._v("bool update(double p)")]),t._v(" "),s("td",[t._v("Добавить новое значение "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("i")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_{i}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" для расчета. Если тайм-фрейм истек, то новое значение будет добавлено и функция вернет "),s("code",[t._v("true")]),t._v(", иначе "),s("code",[t._v("false")])])]),t._v(" "),s("tr",[s("td",[t._v("double value() const")]),t._v(" "),s("td",[t._v("Получить текущее значение ML индикатора. Если список элементов для расчета индикатора пуст, то будет выброшено исключение "),s("code",[t._v("std::out_of_range")])])]),t._v(" "),s("tr",[s("td",[t._v("double tl() const")]),t._v(" "),s("td",[t._v("Получить текущее значение TL индикатора. Если список элементов для расчета индикатора пуст, то будет выброшено исключение "),s("code",[t._v("std::out_of_range")])])]),t._v(" "),s("tr",[s("td",[t._v("double ml() const")]),t._v(" "),s("td",[t._v("Получить текущее значение ML индикатора. Если список элементов для расчета индикатора пуст, то будет выброшено исключение "),s("code",[t._v("std::out_of_range")])])]),t._v(" "),s("tr",[s("td",[t._v("double bl() const")]),t._v(" "),s("td",[t._v("Получить текущее значение BL индикатора. Если список элементов для расчета индикатора пуст, то будет выброшено исключение "),s("code",[t._v("std::out_of_range")])])]),t._v(" "),s("tr",[s("td",[t._v("void clear()")]),t._v(" "),s("td",[t._v("Очистить список элементов по которым считается значение индикатора")])]),t._v(" "),s("tr",[s("td",[t._v("bool empty()")]),t._v(" "),s("td",[t._v("Проверить на пустоту список элементов по которым считается значение индикатора")])]),t._v(" "),s("tr",[s("td",[t._v("size_t size()")]),t._v(" "),s("td",[t._v("Получить размер списка элементов по которым считается значение индикатора")])]),t._v(" "),s("tr",[s("td",[t._v("void shift(double p)")]),t._v(" "),s("td",[t._v("Прибавить заданное значение ко всем элементам списка по которым считается значение индикатора и пересчитать значение индикатора по новым значениям")])])])]),t._v(" "),s("h3",{attrs:{id:"_8-8-9-индекс-относительнои-силы-rsi",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-8-9-индекс-относительнои-силы-rsi"}},[t._v("#")]),t._v(" 8.8.9. Индекс относительной силы ("),s("code",[t._v("RSI")]),t._v(")"),s("Anchor",{attrs:{ids:["indicators-rsi","индекс-относительной-силы-(`rsi`)"]}})],1),t._v(" "),s("p",[t._v("Рассчитывается по формуле:")]),t._v(" "),s("p",[s("span",{staticClass:"katex-display"},[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("R")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("S")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("I")])],1),s("mi",[t._v("t")])],1),s("mo",[t._v("=")]),s("mn",[t._v("1")]),s("mn",[t._v("0")]),s("mn",[t._v("0")]),s("mo",[t._v("−")]),s("mfrac",[s("mrow",[s("mn",[t._v("1")]),s("mn",[t._v("0")]),s("mn",[t._v("0")])],1),s("mrow",[s("mn",[t._v("1")]),s("mo",[t._v("+")]),s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("R")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("S")])],1),s("mi",[t._v("t")])],1)],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mathit{RSI}_t = 100 - \\frac{100}{1 + \\mathit{RS}_t}\n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"1.32144em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"2.1574400000000002em","vertical-align":"-0.8360000000000001em"}}),s("span",{staticClass:"base displaystyle textstyle uncramped"},[s("span",{},[s("span",{staticClass:"mord displaystyle textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.00773em"}},[t._v("R")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07847em"}},[t._v("I")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mord mathrm"},[t._v("1")]),s("span",{staticClass:"mord mathrm"},[t._v("0")]),s("span",{staticClass:"mord mathrm"},[t._v("0")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord reset-textstyle displaystyle textstyle uncramped"},[s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),s("span",{staticClass:"mfrac"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.686em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle cramped"},[s("span",{staticClass:"mord textstyle cramped"},[s("span",{staticClass:"mord mathrm"},[t._v("1")]),s("span",{staticClass:"mbin"},[t._v("+")]),s("span",{},[s("span",{staticClass:"mord textstyle cramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.00773em"}},[t._v("R")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),s("span",{staticStyle:{top:"-0.22999999999999998em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),s("span",{staticStyle:{top:"-0.677em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle uncramped"},[s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord mathrm"},[t._v("1")]),s("span",{staticClass:"mord mathrm"},[t._v("0")]),s("span",{staticClass:"mord mathrm"},[t._v("0")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})])])])])])]),t._v(" "),s("p",[t._v("где "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("R")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("S")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("I")])],1),s("mi",[t._v("t")])],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mathit{RSI}_t")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.68333em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{},[s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.00773em"}},[t._v("R")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07847em"}},[t._v("I")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" - значение искомой величины в момент времени "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("t")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("t")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.61508em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.61508em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])])]),t._v(";")]),t._v(" "),s("p",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("R")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("S")])],1),s("mrow",[s("mi",[t._v("t")])],1)],1),s("mo",[t._v("=")]),s("mfrac",[s("mrow",[s("mi",[t._v("E")]),s("mi",[t._v("M")]),s("mi",[t._v("A")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("_")]),s("mi",[t._v("G")]),s("mi",[t._v("A")]),s("mi",[t._v("I")]),s("msub",[s("mi",[t._v("N")]),s("mi",[t._v("t")])],1)],1),s("mrow",[s("mi",[t._v("E")]),s("mi",[t._v("M")]),s("mi",[t._v("A")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("_")]),s("mi",[t._v("L")]),s("mi",[t._v("O")]),s("mi",[t._v("S")]),s("msub",[s("mi",[t._v("S")]),s("mi",[t._v("t")])],1)],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mathit{RS}_{t} = \\frac{EMA\\_GAIN_t}{EMA\\_LOSS_t}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"1.005331em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"1.5673309999999998em","vertical-align":"-0.5619999999999999em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{},[s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.00773em"}},[t._v("R")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mord reset-textstyle textstyle uncramped"},[s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),s("span",{staticClass:"mfrac"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.345em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[t._v("M")]),s("span",{staticClass:"mord mathit"},[t._v("A")]),s("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.02778em"}},[t._v("_")]),s("span",{staticClass:"mord mathit"},[t._v("L")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("O")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.07142857142857144em","margin-left":"-0.05764em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),s("span",{staticStyle:{top:"-0.22999999999999998em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),s("span",{staticStyle:{top:"-0.527em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[s("span",{staticClass:"mord scriptstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[t._v("M")]),s("span",{staticClass:"mord mathit"},[t._v("A")]),s("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.02778em"}},[t._v("_")]),s("span",{staticClass:"mord mathit"},[t._v("G")]),s("span",{staticClass:"mord mathit"},[t._v("A")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07847em"}},[t._v("I")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.07142857142857144em","margin-left":"-0.10903em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-scriptstyle scriptscriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})])])])]),t._v(";")]),t._v(" "),s("p",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("E")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("M")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("A")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("_")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("G")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("A")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("I")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("N")])],1),s("mi",[t._v("t")])],1),s("mo",[t._v("=")]),s("mfrac",[s("mrow",[s("mn",[t._v("2")])],1),s("mrow",[s("mi",[t._v("n")]),s("mo",[t._v("+")]),s("mn",[t._v("1")])],1)],1),s("mo",[t._v("(")]),s("msub",[s("mi",[t._v("G")]),s("mi",[t._v("t")])],1),s("mo",[t._v("−")]),s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("E")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("M")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("A")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("_")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("G")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("A")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("I")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("N")])],1),s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mn",[t._v("1")])],1)],1),s("mo",[t._v(")")]),s("mo",[t._v("+")]),s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("E")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("M")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("A")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("_")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("G")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("A")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("I")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("N")])],1),s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mn",[t._v("1")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mathit{EMA\\_GAIN}_t = \\frac{2}{n + 1} (G_t - \\mathit{EMA\\_GAIN}_{t-1}) + \\mathit{EMA\\_GAIN}_{t-1}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.845108em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"1.2484389999999999em","vertical-align":"-0.403331em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{},[s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[t._v("M")]),s("span",{staticClass:"mord mathit"},[t._v("A")]),s("span",{staticClass:"mord mathit"},[t._v("_")]),s("span",{staticClass:"mord mathit"},[t._v("G")]),s("span",{staticClass:"mord mathit"},[t._v("A")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07847em"}},[t._v("I")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mord reset-textstyle textstyle uncramped"},[s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),s("span",{staticClass:"mfrac"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.345em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")]),s("span",{staticClass:"mbin"},[t._v("+")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticStyle:{top:"-0.22999999999999998em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),s("span",{staticStyle:{top:"-0.394em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[s("span",{staticClass:"mord scriptstyle uncramped"},[s("span",{staticClass:"mord mathrm"},[t._v("2")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),s("span",{staticClass:"mopen"},[t._v("(")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("G")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{},[s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[t._v("M")]),s("span",{staticClass:"mord mathit"},[t._v("A")]),s("span",{staticClass:"mord mathit"},[t._v("_")]),s("span",{staticClass:"mord mathit"},[t._v("G")]),s("span",{staticClass:"mord mathit"},[t._v("A")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07847em"}},[t._v("I")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mclose"},[t._v(")")]),s("span",{staticClass:"mbin"},[t._v("+")]),s("span",{},[s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[t._v("M")]),s("span",{staticClass:"mord mathit"},[t._v("A")]),s("span",{staticClass:"mord mathit"},[t._v("_")]),s("span",{staticClass:"mord mathit"},[t._v("G")]),s("span",{staticClass:"mord mathit"},[t._v("A")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.07847em"}},[t._v("I")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(";")]),t._v(" "),s("p",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("E")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("M")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("A")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("_")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("L")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("O")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("S")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("S")])],1),s("mi",[t._v("t")])],1),s("mo",[t._v("=")]),s("mfrac",[s("mrow",[s("mn",[t._v("2")])],1),s("mrow",[s("mi",[t._v("n")]),s("mo",[t._v("+")]),s("mn",[t._v("1")])],1)],1),s("mo",[t._v("(")]),s("msub",[s("mi",[t._v("L")]),s("mi",[t._v("t")])],1),s("mo",[t._v("−")]),s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("E")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("M")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("A")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("_")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("L")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("O")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("S")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("S")])],1),s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mn",[t._v("1")])],1)],1),s("mo",[t._v(")")]),s("mo",[t._v("+")]),s("msub",[s("mrow",[s("mi",{attrs:{mathvariant:"italic"}},[t._v("E")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("M")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("A")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("_")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("L")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("O")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("S")]),s("mi",{attrs:{mathvariant:"italic"}},[t._v("S")])],1),s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mn",[t._v("1")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mathit{EMA\\_LOSS}_t = \\frac{2}{n + 1} (L_t - \\mathit{EMA\\_LOSS}_{t-1}) + \\mathit{EMA\\_LOSS}_{t-1}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.845108em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"1.2484389999999999em","vertical-align":"-0.403331em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{},[s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[t._v("M")]),s("span",{staticClass:"mord mathit"},[t._v("A")]),s("span",{staticClass:"mord mathit"},[t._v("_")]),s("span",{staticClass:"mord mathit"},[t._v("L")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("O")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mord reset-textstyle textstyle uncramped"},[s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),s("span",{staticClass:"mfrac"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.345em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")]),s("span",{staticClass:"mbin"},[t._v("+")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticStyle:{top:"-0.22999999999999998em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle textstyle uncramped frac-line"})]),s("span",{staticStyle:{top:"-0.394em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[s("span",{staticClass:"mord scriptstyle uncramped"},[s("span",{staticClass:"mord mathrm"},[t._v("2")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),s("span",{staticClass:"mopen"},[t._v("(")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("L")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{},[s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[t._v("M")]),s("span",{staticClass:"mord mathit"},[t._v("A")]),s("span",{staticClass:"mord mathit"},[t._v("_")]),s("span",{staticClass:"mord mathit"},[t._v("L")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("O")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mclose"},[t._v(")")]),s("span",{staticClass:"mbin"},[t._v("+")]),s("span",{},[s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[t._v("M")]),s("span",{staticClass:"mord mathit"},[t._v("A")]),s("span",{staticClass:"mord mathit"},[t._v("_")]),s("span",{staticClass:"mord mathit"},[t._v("L")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("O")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")])]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(";")]),t._v(" "),s("p",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("G")]),s("mrow",[s("mi",[t._v("t")])],1)],1),s("mo",[t._v("=")]),s("mrow",[s("mo",{attrs:{fence:"true"}},[t._v("{")]),s("mtable",[s("mtr",[s("mtd",[s("mrow",[s("msub",[s("mi",[t._v("p")]),s("mi",[t._v("t")])],1),s("mo",[t._v("−")]),s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mn",[t._v("1")])],1)],1),s("mo",{attrs:{separator:"true"}},[t._v(",")])],1)],1),s("mtd",[s("mrow",[s("mtext",[s("mi",{attrs:{mathvariant:"normal"}},[t._v("i")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("f")])],1),s("mspace",{attrs:{width:"0.5em"}}),s("msub",[s("mi",[t._v("p")]),s("mi",[t._v("t")])],1),s("mo",[t._v("≥")]),s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mn",[t._v("1")])],1)],1)],1)],1)],1),s("mtr",[s("mtd",[s("mrow",[s("mn",[t._v("0")]),s("mo",{attrs:{separator:"true"}},[t._v(",")])],1)],1),s("mtd",[s("mrow",[s("mtext",[s("mi",{attrs:{mathvariant:"normal"}},[t._v("i")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("f")])],1),s("mspace",{attrs:{width:"0.5em"}}),s("msub",[s("mi",[t._v("p")]),s("mi",[t._v("t")])],1),s("mo",[t._v("<")]),s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mn",[t._v("1")])],1)],1)],1)],1)],1)],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("G_{t} = \\begin{cases} \n     p_t - p_{t-1}, &\\text{if}\\enspace p_t \\ge p_{t-1}\\\\\n     0, &\\text{if}\\enspace p_t < p_{t-1} \n   \\end{cases}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"1.75em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"3.0000299999999998em","vertical-align":"-1.25003em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("G")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"minner textstyle uncramped"},[s("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s("span",{staticClass:"delimsizing size4"},[t._v("{")])]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mtable"},[s("span",{staticClass:"col-align-l"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"-0.6819999999999999em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mpunct"},[t._v(",")])])]),s("span",{staticStyle:{top:"0.7579999999999999em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord mathrm"},[t._v("0")]),s("span",{staticClass:"mpunct"},[t._v(",")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"arraycolsep",staticStyle:{width:"1em"}}),s("span",{staticClass:"col-align-l"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"-0.6819999999999999em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"text mord textstyle uncramped"},[s("span",{staticClass:"mord mathrm"},[t._v("i")]),s("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.07778em"}},[t._v("f")])]),s("span",{staticClass:"mord mspace enspace"}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mrel"},[t._v("≥")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])]),s("span",{staticStyle:{top:"0.7579999999999999em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"text mord textstyle uncramped"},[s("span",{staticClass:"mord mathrm"},[t._v("i")]),s("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.07778em"}},[t._v("f")])]),s("span",{staticClass:"mord mspace enspace"}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mrel"},[t._v("<")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])]),s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})])])])]),t._v(";")]),t._v(" "),s("p",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("L")]),s("mrow",[s("mi",[t._v("t")])],1)],1),s("mo",[t._v("=")]),s("mrow",[s("mo",{attrs:{fence:"true"}},[t._v("{")]),s("mtable",[s("mtr",[s("mtd",[s("mrow",[s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mn",[t._v("1")])],1)],1),s("mo",[t._v("−")]),s("msub",[s("mi",[t._v("p")]),s("mi",[t._v("t")])],1),s("mo",{attrs:{separator:"true"}},[t._v(",")])],1)],1),s("mtd",[s("mrow",[s("mtext",[s("mi",{attrs:{mathvariant:"normal"}},[t._v("i")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("f")])],1),s("mspace",{attrs:{width:"0.5em"}}),s("msub",[s("mi",[t._v("p")]),s("mi",[t._v("t")])],1),s("mo",[t._v("≤")]),s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mn",[t._v("1")])],1)],1)],1)],1)],1),s("mtr",[s("mtd",[s("mrow",[s("mn",[t._v("0")]),s("mo",{attrs:{separator:"true"}},[t._v(",")])],1)],1),s("mtd",[s("mrow",[s("mtext",[s("mi",{attrs:{mathvariant:"normal"}},[t._v("i")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("f")])],1),s("mspace",{attrs:{width:"0.5em"}}),s("msub",[s("mi",[t._v("p")]),s("mi",[t._v("t")])],1),s("mo",[t._v(">")]),s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("t")]),s("mo",[t._v("−")]),s("mn",[t._v("1")])],1)],1)],1)],1)],1)],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("L_{t} = \\begin{cases} \n     p_{t-1} - p_t, &\\text{if}\\enspace p_t \\le p_{t-1}\\\\\n     0, &\\text{if}\\enspace p_t > p_{t-1} \n   \\end{cases}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"1.75em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"3.0000299999999998em","vertical-align":"-1.25003em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("L")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"minner textstyle uncramped"},[s("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s("span",{staticClass:"delimsizing size4"},[t._v("{")])]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mtable"},[s("span",{staticClass:"col-align-l"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"-0.6819999999999999em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mpunct"},[t._v(",")])])]),s("span",{staticStyle:{top:"0.7579999999999999em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"mord mathrm"},[t._v("0")]),s("span",{staticClass:"mpunct"},[t._v(",")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"arraycolsep",staticStyle:{width:"1em"}}),s("span",{staticClass:"col-align-l"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"-0.6819999999999999em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"text mord textstyle uncramped"},[s("span",{staticClass:"mord mathrm"},[t._v("i")]),s("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.07778em"}},[t._v("f")])]),s("span",{staticClass:"mord mspace enspace"}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mrel"},[t._v("≤")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])]),s("span",{staticStyle:{top:"0.7579999999999999em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"mord textstyle uncramped"},[s("span",{staticClass:"text mord textstyle uncramped"},[s("span",{staticClass:"mord mathrm"},[t._v("i")]),s("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.07778em"}},[t._v("f")])]),s("span",{staticClass:"mord mspace enspace"}),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mrel"},[t._v(">")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mbin"},[t._v("−")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])]),s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})])])])]),t._v(";")]),t._v(" "),s("p",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("t")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_{t}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" - значение исходной функции (цены) в момент времени "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("t")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("t")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.61508em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.61508em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("t")])])])]),t._v(";")]),t._v(" "),s("p",[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("n")]),s("mo",[t._v("+")]),s("mn",[t._v("1")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("n + 1")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.64444em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")]),s("span",{staticClass:"mbin"},[t._v("+")]),s("span",{staticClass:"mord mathrm"},[t._v("1")])])])]),t._v(" - количество значений исходной функции (цены) для расчета искомой величины ("),s("code",[t._v("RSI")]),t._v(").")]),t._v(" "),s("p",[t._v("Конструкторы "),s("code",[t._v("RSI")]),t._v(":")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Конструктор")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("RSI()")]),t._v(" "),s("td",[t._v("создать объект с пустым раписанием и с "),s("code",[t._v("TradingDays")]),t._v(" портфеля")])]),t._v(" "),s("tr",[s("td",[t._v("RSI(std::vector<interval> sch)")]),t._v(" "),s("td",[t._v("создать объект c раписанием и с "),s("code",[t._v("TradingDays")]),t._v(" портфеля")])]),t._v(" "),s("tr",[s("td",[t._v("RSI(schedule sch)")]),t._v(" "),s("td",[t._v("создать объект c раписанием и с "),s("code",[t._v("TradingDays")]),t._v(" портфеля")])])])]),t._v(" "),s("p",[t._v("Методы "),s("code",[t._v("RSI")]),t._v(":")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Метод")]),t._v(" "),s("th",[t._v("Описание")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("size_t length() const")]),t._v(" "),s("td",[t._v("Получить количество элементов для расчета (парметр "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("n")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])])]),t._v(" из формулы)")])]),t._v(" "),s("tr",[s("td",[t._v("void set_length(size_t n)")]),t._v(" "),s("td",[t._v("Задать количество элементов для расчета, значение данного параметра должно быть целым числом из отрезка "),s("code",[t._v("[1, 10000]")]),t._v(" (значение по умолчания 10), в противном случае будет выброшено исключение "),s("code",[t._v("std::invalid_argument")])])]),t._v(" "),s("tr",[s("td",[t._v("size_t timeframe() const")]),t._v(" "),s("td",[t._v("Получить тайм-фрейм расчетов, т.е. с какой периодичностью получать "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("i")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_{i}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])])])]),t._v(" "),s("tr",[s("td",[t._v("void set_timeframe(size_t timeframe)")]),t._v(" "),s("td",[t._v("Задать тайм-фрейм для расчетов (в секундах), значение данного параметра должно быть целым числом из отрезка "),s("code",[t._v("[1, 86400]")]),t._v(" (значение по умолчанию 1 секунда), в противном случае будет выброшено исключение "),s("code",[t._v("std::invalid_argument")]),t._v(". При изменении таймфрейма накопленная для расчетов очередь значений очищается")])]),t._v(" "),s("tr",[s("td",[t._v("int trading_days() const")]),t._v(" "),s("td",[t._v("Получить "),s("code",[t._v("TradingDays")]),t._v(" индикатора")])]),t._v(" "),s("tr",[s("td",[t._v("void set_trading_days(int trading_days)")]),t._v(" "),s("td",[t._v("Задать "),s("code",[t._v("TradingDays")]),t._v(", значение данного параметра должно быть целым числом из отрезка "),s("code",[t._v("[0, 127]")]),t._v(", в противном случае будет выброшено исключение "),s("code",[t._v("std::invalid_argument")])])]),t._v(" "),s("tr",[s("td",[t._v("bool update(double p)")]),t._v(" "),s("td",[t._v("Добавить новое значение "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",[t._v("p")]),s("mrow",[s("mi",[t._v("i")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_{i}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])]),t._v(" для расчета. Если тайм-фрейм истек, то новое значение будет добавлено и функция вернет "),s("code",[t._v("true")]),t._v(", иначе "),s("code",[t._v("false")])])]),t._v(" "),s("tr",[s("td",[t._v("double value() const")]),t._v(" "),s("td",[t._v("Получить текущее значение индикатора. Если список элементов для расчета индикатора пуст, то будет выброшено исключение "),s("code",[t._v("std::out_of_range")])])]),t._v(" "),s("tr",[s("td",[t._v("void clear()")]),t._v(" "),s("td",[t._v("Очистить список элементов по которым считается значение индикатора")])]),t._v(" "),s("tr",[s("td",[t._v("bool empty()")]),t._v(" "),s("td",[t._v("Проверить на пустоту список элементов по которым считается значение индикатора")])]),t._v(" "),s("tr",[s("td",[t._v("size_t size()")]),t._v(" "),s("td",[t._v("Получить размер списка элементов по которым считается значение индикатора")])]),t._v(" "),s("tr",[s("td",[t._v("void shift(double p)")]),t._v(" "),s("td",[t._v("Прибавить заданное значение ко всем элементам списка по которым считается значение индикатора и пересчитать значение индикатора по новым значениям")])])])]),t._v(" "),s("h2",{attrs:{id:"_8-9-примеры-доступа-к-параметрам-портфеля-инструмента-сделки-позиции",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-9-примеры-доступа-к-параметрам-портфеля-инструмента-сделки-позиции"}},[t._v("#")]),t._v(" 8.9. Примеры доступа к параметрам портфеля, инструмента, сделки, позиций "),s("Anchor",{attrs:{ids:["примеры-доступа-к-параметрам-портфеля,-инструмента,-сделки,-позиций"]}})],1),t._v(" "),s("p",[t._v('Пусть имеется портфель с именем "si" и в этом портфеле есть один инструмент - фьючерс на доллар "SiH6". Для того, чтобы получить, например, бид и объем бида по бумаге портфеля и сложить эти значения в переменные, надо написать следующий код:')]),t._v(" "),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("security s "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_security")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" bid "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bid")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" amount_bid "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("amount_bid")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("hr"),t._v(" "),s("p",[t._v("Чтобы получить, например, позицию и сигнал на покупку портфеля надо написать:")]),t._v(" "),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("portfolio p "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_portfolio")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" lim_buy "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("lim_b")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" pos "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("pos")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("hr"),t._v(" "),s("Anchor",{attrs:{ids:["__sec_status_check__"]}}),t._v("Чтобы проверить, например, что в данный момент по инструменту можно выставлять заявки и в роботе есть активное подключение, получающее стаканы:\n"),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("security s "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_security")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("trading_status")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" TRADING_CAN_PLACE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("conn_online")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" MARKET_DATA_OB_ONLINE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// TODO place your code here")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("hr"),t._v(" "),s("p",[t._v("Позицию портфеля можно посчитать самому, разделив позицию главной бумаги портфеля на ее вес в портфеле, вот так:")]),t._v(" "),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("security_fields sf "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_security_fields")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" pos "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" sf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("pos")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" sf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("count")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("hr"),t._v(" "),s("p",[t._v("Для подсчета раздвижки по сделкам портфеля можно использовать формулу:")]),t._v(" "),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("portfolio p "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_portfolio")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("deal")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SiH6"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("price"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("hr"),t._v(" "),s("p",[t._v("Сохранить и загрузить значение из data можно так:")]),t._v(" "),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("portfolio p "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_portfolio")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"si"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\np"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"key"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" p "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"key"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("hr"),t._v(" "),s("Anchor",{attrs:{ids:["__Example1__"]}}),t._v("Чтобы получить, например, цену последней сделки для бумаги с СПб биржи (получение цены последней сделки по ключу возможно только для СПБ биржи):\n"),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("security s "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_security")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SPB_AGGR_AAPL"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" spb_commons"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" c "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("spb_common")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" p "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("price_last"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("hr"),t._v(" "),s("Anchor",{attrs:{ids:["__Example2__"]}}),t._v('Чтобы, например, задать и потом получить значение "пользовательского поля#0":\n'),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("portfolio p "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_portfolio")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\np"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("set_uf0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("user_value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" user_value"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" v "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("uf0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" v"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("hr"),t._v(" "),s("p",[t._v("Чтобы найти, например, средневзвешенный бид по первым 10-ти элементам стакана (настоятельно НЕ рекомендуется искать что-то по всему стакану, т.к. стакан меняется часто, то работать ваш код будет долго):")]),t._v(" "),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" sum1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sum2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" avg_bid "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nsecurity s "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_security")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SPB_AGGR_AAPL"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\norder_book ob "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("orderbook")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ob"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("is_available")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" ob"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("has_next_bid")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        i"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        std"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("pair"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" b "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ob"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("next_bid")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        sum1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("first "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("second"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        sum2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("second"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\navg_bid "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sum2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sum1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" sum2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("hr"),t._v(" "),s("Anchor",{attrs:{ids:["__Example3__"]}}),t._v("Чтобы пройти в цикле по всем бумагам портфеля и вывести имена бумаг в лог:\n"),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("portfolio p "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_portfolio")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\np"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("restart_sec_iter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("has_next_sec")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    security_fields sf "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("next_sec")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log_info")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sec_key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("hr"),t._v(" "),s("p",[t._v("Чтобы найти, например, сумму объемов активных заявок портфеля по бумаге по заданной цене 100:")]),t._v(" "),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("security_fields sf "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_security_fields")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\norder_pool p "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" sf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("orders")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" amount "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("has_next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    order_item o "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("status "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" RUNNING "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fabs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("price "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1e-9")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        amount "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("amount_rest"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("hr"),t._v(" "),s("p",[t._v("Чтобы найти, например, текущую позицию по бумаге и текущий баланс по валюте:")]),t._v(" "),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("connection c "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_connection")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"okex_send_test"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ncoin_item ci "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("coin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"BTC"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nsec_item si "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sec")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"isolated/BTC-USD-SWAP"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" coin_pos "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ci"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("pos")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" sec_pos "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" si"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("pos")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("hr"),t._v(" "),s("h2",{attrs:{id:"_8-10-примеры-использования-функции-и-классов",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-10-примеры-использования-функции-и-классов"}},[t._v("#")]),t._v(" 8.10. Примеры использования функций и классов "),s("Anchor",{attrs:{ids:["примеры-использования-функций-и-классов"]}})],1),t._v(" "),s("p",[t._v('Пусть имеется портфель с именем "test" и в этом портфеле есть два инструмента: фьючерс на индекс РТС "RIH6" и его опцион '),s("code",[t._v("call")]),t._v(' на страйк 70000 "RI70000BB6", позиция по обоим бумагам в портфеле равна 1, а направление торговли у обоих '),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#_5-3-10-on-buy"}},[t._v("On_by")]),t._v(" = "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#p.buy"}},[t._v("Buy")]),t._v(".")],1),t._v(" "),s("p",[t._v('Рассчитаем дельту одного из инструментов портфеля, например, "RIH6". Для этого воспользуемся функцией delta из модуля options. Дельта для фьючерса всегда равна 1, проверим, для этого надо написать:')]),t._v(" "),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("S_delta")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"RIH6"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("и выполнить этот код, в результате получим 1. Если хотим рассчитать дельту с учетом ставки рефинансирования, то укажем необязательный параметр rr, например, равный 6.25%:")]),t._v(" "),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("P_delta")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("здесь test - имя портфеля (для портфелей с другими именами нужно писать их имена). Дельта всего портфеля будет равна сумме дельт его инструментов с учетом позиции и направления торговли:")]),t._v(" "),s("p",[s("span",{staticClass:"katex-display"},[s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("msub",[s("mi",{attrs:{mathvariant:"normal"}},[t._v("Δ")]),s("mrow",[s("mi",[t._v("p")]),s("mi",[t._v("o")]),s("mi",[t._v("r")]),s("mi",[t._v("t")]),s("mi",[t._v("f")]),s("mi",[t._v("o")]),s("mi",[t._v("l")]),s("mi",[t._v("i")]),s("mi",[t._v("o")])],1)],1),s("mo",[t._v("=")]),s("msub",[s("mo",[t._v("∑")]),s("mrow",[s("mi",[t._v("i")]),s("mo",[t._v("∈")]),s("mi",[t._v("p")]),s("mi",[t._v("o")]),s("mi",[t._v("r")]),s("mi",[t._v("t")]),s("mi",[t._v("f")]),s("mi",[t._v("o")]),s("mi",[t._v("l")]),s("mi",[t._v("i")]),s("mi",[t._v("o")])],1)],1),s("msub",[s("mi",{attrs:{mathvariant:"normal"}},[t._v("Δ")]),s("mi",[t._v("i")])],1),s("mo",[t._v("×")]),s("mi",[t._v("p")]),s("mi",[t._v("o")]),s("msub",[s("mi",[t._v("s")]),s("mi",[t._v("i")])],1),s("mo",[t._v("×")]),s("mrow",[s("mo",{attrs:{fence:"true"}},[t._v("{")]),s("mtable",[s("mtr",[s("mtd",[s("mrow",[s("mn",[t._v("1")]),s("mo",{attrs:{separator:"true"}},[t._v(",")])],1)],1),s("mtd",[s("mrow",[s("mtext",[s("mi",{attrs:{mathvariant:"normal"}},[t._v("i")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("f")])],1),s("mspace",{attrs:{width:"0.5em"}}),s("mi",[t._v("O")]),s("mi",[t._v("n")]),s("mspace",{attrs:{width:"0.5em"}}),s("mi",[t._v("b")]),s("mi",[t._v("u")]),s("msub",[s("mi",[t._v("y")]),s("mi",[t._v("i")])],1),s("mo",[t._v("=")]),s("mi",[t._v("B")]),s("mi",[t._v("u")]),s("mi",[t._v("y")])],1)],1)],1),s("mtr",[s("mtd",[s("mrow",[s("mo",[t._v("−")]),s("mn",[t._v("1")]),s("mo",{attrs:{separator:"true"}},[t._v(",")])],1)],1),s("mtd",[s("mrow",[s("mtext",[s("mi",{attrs:{mathvariant:"normal"}},[t._v("i")]),s("mi",{attrs:{mathvariant:"normal"}},[t._v("f")])],1),s("mspace",{attrs:{width:"0.5em"}}),s("mi",[t._v("O")]),s("mi",[t._v("n")]),s("mspace",{attrs:{width:"0.5em"}}),s("mi",[t._v("b")]),s("mi",[t._v("u")]),s("msub",[s("mi",[t._v("y")]),s("mi",[t._v("i")])],1),s("mo",[t._v("=")]),s("mi",[t._v("S")]),s("mi",[t._v("e")]),s("mi",[t._v("l")]),s("mi",[t._v("l")])],1)],1)],1)],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\Delta_{portfolio}=\\sum_{i\\in portfolio}\\Delta_i \\times pos_i \\times \n    \\begin{cases}\n      1, &\\text{if}\\enspace On\\enspace buy_i=Buy\\\\\n     -1, &\\text{if}\\enspace On\\enspace buy_i=Sell \n\\end{cases}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"1.75em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"3.188221em","vertical-align":"-1.438221em"}}),s("span",{staticClass:"base displaystyle textstyle uncramped"},[s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathrm"},[t._v("Δ")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"mord mathit"},[t._v("o")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),s("span",{staticClass:"mord mathit"},[t._v("o")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),s("span",{staticClass:"mord mathit"},[t._v("i")]),s("span",{staticClass:"mord mathit"},[t._v("o")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mop op-limits"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"1.202113em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")]),s("span",{staticClass:"mrel"},[t._v("∈")]),s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"mord mathit"},[t._v("o")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),s("span",{staticClass:"mord mathit"},[t._v("t")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),s("span",{staticClass:"mord mathit"},[t._v("o")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),s("span",{staticClass:"mord mathit"},[t._v("i")]),s("span",{staticClass:"mord mathit"},[t._v("o")])])])]),s("span",{staticStyle:{top:"-0.000005000000000032756em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",[s("span",{staticClass:"op-symbol large-op mop"},[t._v("∑")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathrm"},[t._v("Δ")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mbin"},[t._v("×")]),s("span",{staticClass:"mord mathit"},[t._v("p")]),s("span",{staticClass:"mord mathit"},[t._v("o")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit"},[t._v("s")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mbin"},[t._v("×")]),s("span",{staticClass:"minner displaystyle textstyle uncramped"},[s("span",{staticClass:"style-wrap reset-textstyle textstyle uncramped",staticStyle:{top:"0em"}},[s("span",{staticClass:"delimsizing size4"},[t._v("{")])]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mtable"},[s("span",{staticClass:"col-align-l"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"-0.6819999999999999em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"mord displaystyle textstyle uncramped"},[s("span",{staticClass:"mord mathrm"},[t._v("1")]),s("span",{staticClass:"mpunct"},[t._v(",")])])]),s("span",{staticStyle:{top:"0.7579999999999999em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"mord displaystyle textstyle uncramped"},[s("span",{staticClass:"mord"},[t._v("−")]),s("span",{staticClass:"mord mathrm"},[t._v("1")]),s("span",{staticClass:"mpunct"},[t._v(",")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"arraycolsep",staticStyle:{width:"1em"}}),s("span",{staticClass:"col-align-l"},[s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"-0.6819999999999999em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"mord displaystyle textstyle uncramped"},[s("span",{staticClass:"text mord displaystyle textstyle uncramped"},[s("span",{staticClass:"mord mathrm"},[t._v("i")]),s("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.07778em"}},[t._v("f")])]),s("span",{staticClass:"mord mspace enspace"}),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("O")]),s("span",{staticClass:"mord mathit"},[t._v("n")]),s("span",{staticClass:"mord mspace enspace"}),s("span",{staticClass:"mord mathit"},[t._v("b")]),s("span",{staticClass:"mord mathit"},[t._v("u")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.03588em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05017em"}},[t._v("B")]),s("span",{staticClass:"mord mathit"},[t._v("u")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])]),s("span",{staticStyle:{top:"0.7579999999999999em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"mord displaystyle textstyle uncramped"},[s("span",{staticClass:"text mord displaystyle textstyle uncramped"},[s("span",{staticClass:"mord mathrm"},[t._v("i")]),s("span",{staticClass:"mord mathrm",staticStyle:{"margin-right":"0.07778em"}},[t._v("f")])]),s("span",{staticClass:"mord mspace enspace"}),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[t._v("O")]),s("span",{staticClass:"mord mathit"},[t._v("n")]),s("span",{staticClass:"mord mspace enspace"}),s("span",{staticClass:"mord mathit"},[t._v("b")]),s("span",{staticClass:"mord mathit"},[t._v("u")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.03588em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle cramped"},[s("span",{staticClass:"mord mathit"},[t._v("i")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])]),s("span",{staticClass:"mrel"},[t._v("=")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),s("span",{staticClass:"mord mathit"},[t._v("e")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),s("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])]),s("span",{staticClass:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})])])])])])]),t._v(" "),s("p",[t._v("где i - i-тый инструмент портфеля, Δi - дельта i-го инструмента портфеля, posi - позиция i-го инструмента портфеля, On buyi - On buy i-го инструмента портфеля. Величины гамма, вега, тета и ожидаемая волатильность для портфеля рассчитываются аналогично. Функции для их рассчета вызываются аналогично примеру с дельтой. Функция price так же вызывается аналогично delta, но НЕ может быть вызвана для портфеля, может быть вызвана только для финансового инструмента.")]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v('Теперь рассмотрим пример использования функций, которые позволяют более "гибко" рассчитывать необходимые величины, так как им на вход можно передать более широкий набор аргументов, но эти функции работают исключительно для опционов и при использовании этих функций необходимо четко знать для опциона '),s("code",[t._v("call")]),t._v(" или для опциона "),s("code",[t._v("put")]),t._v(' вы хотите рассчитать значение. Например, рассчитаем ожидаемую волатильность опциона "RI70000BB6", в качестве цен опциона и базового актива возьмем их лучшие цены на покупку:')]),t._v(" "),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("security s1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_security")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"RIH6"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nsecurity s2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_security")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"RI70000BB6"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("CIV")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bid")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" s2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("strike")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" s2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("exp_date")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" s2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bid")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("hr"),t._v(" "),s("Anchor",{attrs:{ids:["__Example4__"]}}),t._v("Чтобы проверить, что текущее время меньше полудня:\n"),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("day_time t "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_day_time")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nday_time "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("t1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" t "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" t1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("hr"),t._v(" "),s("Anchor",{attrs:{ids:["__Example7__"]}}),t._v("Пример тaймера на каждые 10 секунд:\n"),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" timers"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("timer "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("t")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10000000000LL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("tick")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// do some operation")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("hr"),t._v(" "),s("p",[t._v("Пример вызова операции ежедневно не ранее, чем в "),s("code",[t._v("10:00")]),t._v(":")]),t._v(" "),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" timers"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("day_timer "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("t")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("tick")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// do some operation")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("hr"),t._v(" "),s("p",[t._v('Пример получения и изменения "пользовательских полей" (увеличить значение '),s("code",[t._v("i")]),t._v("-го поля на "),s("code",[t._v("i")]),t._v("):"),s("Anchor",{attrs:{ids:["__Example6__"]}})],1),t._v(" "),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("portfolio p "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_portfolio")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" v "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" std"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("invoke")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("uf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// get value")]),t._v("\n    std"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("invoke")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("set_uf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("user_value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// set value")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("hr"),t._v(" "),s("h2",{attrs:{id:"_8-11-примеры-написания-ratio-buy-sell-formula",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-11-примеры-написания-ratio-buy-sell-formula"}},[t._v("#")]),t._v(" 8.11. Примеры написания Ratio buy/sell formula "),s("Anchor",{attrs:{ids:["примеры-написания-ratio-buy/sell-formula"]}})],1),t._v(" "),s("p",[t._v("При написании формул можно использовать все те инструменты, которые используются в любом из портфелей, также можно использовать доступные значения других портфелей , например, их позиции по бумагам.")]),t._v(" "),s("p",[t._v("Для того, чтобы использовать поле "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#_5-3-28-ratio-buy-formula"}},[t._v("Ratio sell/buy formula")]),t._v(" необходимо для выбранного инструмента портфеля выбрать "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#_5-3-27-ratio-type"}},[t._v("Ratio type")]),t._v(" = "),s("code",[t._v("Ratio formula")]),t._v(". После этого двойным кликом войти в редактор и написать необходимое значение.")],1),t._v(" "),s("p",[t._v('Пусть имеется портфель с именем "si" и в этом портфеле есть один инструмент - фьючерс на доллар "SiH6", направление торговли этого инструмента '),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#_5-3-10-on-buy"}},[t._v("On by")]),t._v(" = "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#p.buy"}},[t._v("Buy")]),t._v(".")],1),t._v(" "),s("p",[t._v("Если "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#_5-3-19-ratio-sign"}},[t._v("Ratio sign")]),t._v(' = "×", то ничего особо интересного с формулами не придумаешь, разве что какой-то хитрый множитель (и для покупки и для продажи), например, такой:')],1),t._v(" "),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("security s "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_security")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SiH6"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sqrt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bid")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("в таком случае для расчета "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#p.buy"}},[t._v("Buy")]),t._v(" и "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#p.sell"}},[t._v("Sell")]),t._v(" будет использован один и тот же множитель, если же вы хотите использовать разные множители надо вписать разные значения в "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#_5-3-28-ratio-buy-formula"}},[t._v("Ratio buy formula")]),t._v(" и "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#_5-3-29-ratio-buy-formula"}},[t._v("Ratio sell formula")]),t._v(", например, так:")],1),t._v(" "),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("security s "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_security")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SiH6"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sqrt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bid")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("security s "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_security")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SiH6"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sqrt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("offer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("для покупки и продажи, соответственно.")]),t._v(" "),s("p",[t._v("В таком случае для расчета "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#p.buy"}},[t._v("Buy")]),t._v(" будет использован квадратный корень из бида, а для расчета "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#p.sell"}},[t._v("Sell")]),t._v(" будет использован квадратный корень из оффера.")],1),t._v(" "),s("p",[t._v("Если же "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#_5-3-19-ratio-sign"}},[t._v("Ratio sign")]),t._v(' = "+", то вы можете полностью изменить формулу расчета '),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#p.buy"}},[t._v("Buy")]),t._v(" и "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#p.sell"}},[t._v("Sell")]),t._v(", для этого надо для начала вычесть те значения, которые используются в данный момент, тем самым обнулив "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#p.buy"}},[t._v("Buy")]),t._v(" и "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#p.sell"}},[t._v("Sell")]),t._v(":")],1),t._v(" "),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("security s "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_security")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SiH6"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bid")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("security s "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_security")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SiH6"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("offer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("для покупки и продажи, соответственно, а после этого прибавить к "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#p.buy"}},[t._v("Buy")]),t._v(" и "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#p.sell"}},[t._v("Sell")]),t._v(" новое значение, например, так:")],1),t._v(" "),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("security s "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_security")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SiH6"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" price "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("offer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("offer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" price"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("и")]),t._v(" "),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("security s "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_security")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SiH6"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" price "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bid")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bid")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" price"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("теперь значения переменной "),s("code",[t._v("price")]),t._v(" при расчете каждого из параметров будут новыми значениями для "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#p.buy"}},[t._v("Buy")]),t._v(" и "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#p.sell"}},[t._v("Sell")]),t._v(". Хочется отметить, что без использования "),s("code",[t._v("Ratio formula")]),t._v(' такое "хитрое" значение получить бы не удалось.')],1),t._v(" "),s("hr"),t._v(" "),s("p",[t._v('Рассмотрим еще один пример. Пусть имеется портфель с именем "test" и в этом портфеле есть два инструмента: фьючерс на доллар "SiH6", направление торговли этого инструмента '),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#_5-3-10-on-buy"}},[t._v("On_by")]),t._v(" = "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#p.buy"}},[t._v("Buy")]),t._v(" и он является "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#_5-3-11-is-first"}},[t._v("Is first")]),t._v(' и фьючерс на индекс РТС "RIH6", направление торговли этого инструмента тоже '),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#_5-3-10-on-buy"}},[t._v("On_by")]),t._v(" = "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#p.buy"}},[t._v("Buy")]),t._v(" (для примера направление не "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#_5-3-11-is-first"}},[t._v("Is first")]),t._v(" инструмента значения не имеет). Для того чтобы использовать эти два инструмента в одном портфеле нужно привести их цены в пунктах к одной размерности, как известно, доллар торгуется в рублях (1 : pt = 1 rub), а вот индекс торгуется не в рублях, для него 1 pt = 0.02 * "),s("code",[t._v("$")]),s("sub",[t._v("price")]),t._v(" rub (где "),s("code",[t._v("$")]),s("sub",[t._v("price")]),t._v(" - это курс доллара в рублях, но это не константа, а динамически изменяющаяся величина). Есть два варианта решения поставленной задачи, оба реализуемы только с использованием "),s("code",[t._v("Ratio formula")]),t._v(" и оба приводят к абсолютно одинаковому результату. Вот они:")],1),t._v(" "),s("ol",[s("li",[s("p",[t._v("Для доллара просто зададим "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#_5-3-20-ratio"}},[t._v("Ratio")]),t._v(" = 1, а вот для индекса РТС выберем "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#_5-3-19-ratio-sign"}},[t._v("Ratio sign")]),t._v(' = "×", а в '),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#_5-3-28-ratio-buy-formula"}},[t._v("Ratio buy formula")]),t._v(" напишем следующее:")],1),t._v(" "),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("security s "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_security")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SiH6"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.02")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("offer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.001")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("в "),s("code",[t._v("Ratio sell formula")]),t._v(" напишем следующее:")]),t._v(" "),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("security s "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_security")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SiH6"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.02")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bid")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.001")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("таким образом при расчете "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#p.buy"}},[t._v("Buy")]),t._v(" мы будем использовать бид доллара, а при расчете "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#p.sell"}},[t._v("Sell")]),t._v(" - его оффер, и величину получим в рублях.")],1)]),t._v(" "),s("li",[s("p",[t._v("Для доллара просто зададим "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#_5-3-20-ratio"}},[t._v("Ratio")]),t._v(" = 1, а вот для индекса РТС выберем "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#_5-3-19-ratio-sign"}},[t._v("Ratio sign")]),t._v(' = "+", а в '),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#_5-3-28-ratio-buy-formula"}},[t._v("Ratio buy formula")]),t._v(" напишем следующее (вначале обнулим значение, как в предыдущем примере, а затем зададим новое):")],1),t._v(" "),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("security s1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_security")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SiH6"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nsecurity s2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_security")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"RIH6"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" price "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" s2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("offer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.02")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" s1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("offer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.001")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("s2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("offer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" price"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("в "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#_5-3-29-ratio-buy-formula"}},[t._v("Ratio sell formula")]),t._v(" напишем следующее:")],1),t._v(" "),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("security s1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_security")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SiH6"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nsecurity s2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_security")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"RIH6"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" price "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" s2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bid")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.02")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" s1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bid")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.001")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("s2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bid")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" price"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("теперь значения переменной price и будут новыми значениями (так сказать, со стороны индекса РТС), используемыми для расчета "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#p.buy"}},[t._v("Buy")]),t._v(" и "),s("RouterLink",{attrs:{to:"/docs/05-params-description.html#p.sell"}},[t._v("Sell")]),t._v(", соответственно.")],1)])]),t._v(" "),s("h2",{attrs:{id:"_8-12-примеры-использования-индикаторов",tabindex:"-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-12-примеры-использования-индикаторов"}},[t._v("#")]),t._v(" 8.12. Примеры использования индикаторов"),s("Anchor",{attrs:{ids:["__Example5__","примеры-использования-индикаторов"]}})],1),t._v(" "),s("p",[t._v("Самый простой пример расчета "),s("code",[t._v("SMA")]),t._v(" без каких-либо дополнительных настроек (т.е. тайм-фрейм 1 секунда и 10 значений для усреднения):")]),t._v(" "),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("security s "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_security")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// get main security")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" indicators"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("SMA sma"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// initialize SMA object as static variable")]),t._v("\nsma"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mid_price")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// try to update SMA value, by adding new price")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" sma"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// get current SMA value")]),t._v("\n")])])]),s("hr"),t._v(" "),s("p",[t._v("Пример расчета "),s("code",[t._v("EMA")]),t._v(" с использованием расписания ("),s("code",[t._v("TradingDays")]),t._v(" берутся из портфеля, тайм-фрейм 1 секунда и 10 значений для усреднения):")]),t._v(" "),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("security s "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_security")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// get main security")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" indicators"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("EMA "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ema")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("45")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// initialize EMA with trading schedule: 7:00-18:45, 19:00-23:50")]),t._v("\nema"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mid_price")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// try to update EMA value, by adding new price")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" ema"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// get current EMA value")]),t._v("\n")])])]),s("hr"),t._v(" "),s("p",[t._v("Пример расчета "),s("code",[t._v("Var")]),t._v(" с использованием значений пользовательских полей для настройки параметров индикатора и с обработкой отсутствия цен по заданной бумаге:")]),t._v(" "),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("portfolio p "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_portfolio")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// get current portfolio")]),t._v("\nuser_value td "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("uf0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// get TradingDays value from user field 0")]),t._v("\nuser_value len "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("uf1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// get length value from user field 1")]),t._v("\nuser_value tf "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("uf2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// get timeframe value from user field 2")]),t._v("\nsecurity s "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_security")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// get main security")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" indicators"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("Var "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("v")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// initialize Var with trading schedule: 7:00-23:00")]),t._v("\nv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("set_timeframe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// set timeframe value from user field 2")]),t._v("\nv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("set_length")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("len"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// set length value from user field 1")]),t._v("\nv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("set_trading_days")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("td"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// set TradingDays value from user field 0")]),t._v("\n\ntry"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// try to catch exception")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    v"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mid_price")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// try to update Var value, by adding new price")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("std"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("range_error"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// if there is no mid_price value simply return -1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" v"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// get current Var value")]),t._v("\n")])])]),s("hr"),t._v(" "),s("p",[t._v("Примеры задания "),s("code",[t._v("TradingDays")]),t._v(" индикатора:")]),t._v(" "),s("div",{staticClass:"language-C extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[t._v("sma"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("set_trading_days")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("WD_MONDAY "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" WD_TUESDAY"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// compute indicator value on Monday and Tuesday only")]),t._v("\nsma"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("set_trading_days")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("WORK_WEEK"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// compute indicator value from Monday till Friday")]),t._v("\nsma"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("set_trading_days")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("WHOLE_WEEK "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),t._v(" WD_MONDAY"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// compute indicator value from Tuesday till Sunday")]),t._v("\n")])])])],1)}),[],!1,null,null,null);s.default=i.exports}}]);